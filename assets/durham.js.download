var SearchSuggestion=(function(){function a(e){var q="search-suggestion";var r="search-suggestion__item";var s="search-suggestion__item--selected";var p=function(i){i.style.display="block"};var j=function(i){i.style.display="none"};var h=function(u,i){return u.classList?u.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(i)};var b=function(u,i){if(u.classList){u.classList.add(i)}else{u.className+=" "+i}};var o=function(u,i){if(u.classList){u.classList.remove(i)}else{u.className=u.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi"),"")}};var c=function(i,u,v){if(i.addEventListener){i.addEventListener(u,v)}else{i.attachEvent("on"+u,function(){v.call(i)})}i[u]=v};var t=function(i,u,v){if(!v){if(i[u]){v=i[u]}else{return}}if(i.removeEventListener){i.removeEventListener(u,v)}else{i.detachEvent("on"+u,v)}};var l=function(w,x,i,u){var v=u||document;c(v,x,function(y){var A;var z=y.target||y.srcElement;while(z&&!(A=h(z,w))){z=z.parentElement}if(A){i.call(z,y)}})};var d=function(u){f.suggestions.innerHTML="";j(f.suggestions);if(!u||!u.length){return}for(var v=0;v<u.length;v++){if(!u[v].title){continue}var w=document.createElement("div");w.innerHTML=u[v].title;w.setAttribute("data-val",u[v].title);if(u[v].link){w.setAttribute("data-link",u[v].link)}b(w,r);f.suggestions.appendChild(w)}f.updateSuggestionContainer()};var m={element:"",minimum:3,delay:150,modifier:"",select:function(v,i,u){console.log(v)},source:function(v,i,u){u([{title:"Sample",link:"http://google.co.uk"},{title:"Sample2"},{title:"Sample3"},{title:"Sample3"}])}};for(var n in e){if(m.hasOwnProperty(n)){m[n]=e[n]}}var g=document.querySelectorAll(typeof(m.element)==="string"?m.element:"");for(var k=0;k<g.length;k++){var f=g[k];f.suggestions=document.createElement("div");b(f.suggestions,q);if(f.modifier){b(f.suggestions,q+"--"+f.modifier)}f.setAttribute("autocomplete","off");f.updateSuggestionContainer=function(v,u){var i=f.getBoundingClientRect();f.suggestions.style.left=Math.round(i.left+(window.pageXOffset||document.documentElement.scrollLeft))+"px";f.suggestions.style.top=Math.round(i.bottom+(window.pageYOffset||document.documentElement.scrollTop))+"px";f.suggestions.style.width=Math.round(i.right-i.left)+"px";if(!v){p(f.suggestions);if(!f.suggestions.maxHeight){f.suggestions.maxHeight=parseInt((getComputedStyle?getComputedStyle(f.suggestions,null):f.suggestions.currentStyle).maxHeight)}var y=f.suggestions.querySelector("."+r);if(!f.suggestions.suggestionHeight&&y){f.suggestions.suggestionHeight=y.offsetHeight}if(f.suggestions.suggestionHeight){if(!u){f.suggestions.scrollTop=0}else{var w=f.suggestions.scrollTop;var x=u.getBoundingClientRect().top-f.suggestions.getBoundingClientRect().top;if(x+f.suggestions.suggestionHeight-f.suggestions.maxHeight>0){f.suggestions.scrollTop=x+f.suggestions.suggestionHeight+w-f.suggestions.maxHeight}else{if(x<0){f.suggestions.scrollTop=x+w}}}}}};c(window,"resize",f.updateSuggestionContainer);document.body.appendChild(f.suggestions);l(r,"mouseleave",function(i){var u=f.suggestions.querySelector("."+r);if(u){setTimeout(function(){o(u,s)},20)}},f.suggestions);l(r,"mouseover",function(i){var u=f.suggestions.querySelector("."+s);if(u){o(u,s)}b(this,s)},f.suggestions);l(r,"mousedown",function(i){if(h(this,r)){m.select(this.getAttribute("data-val"),f,this);j(f.suggestions)}},f.suggestions);c(f,"blur",function(i){j(f.suggestions)});c(f,"focus",function(){if(!f.value){return}if(!f.suggestions.innerHTML){m.source(f.value,f,d)}else{f.updateSuggestionContainer()}});c(f,"keydown",function(i){var u=window.event?i.keyCode:i.which;if((u==40||u==38)&&f.suggestions.innerHTML){var v;var w=f.suggestions.querySelector("."+s);if(!w){v=(u==40)?f.suggestions.querySelector("."+r):f.suggestions.childNodes[f.suggestions.childNodes.length-1];b(v,s)}else{v=(u==40)?w.nextSibling:w.previousSibling;if(v){o(w,s);b(v,s)}else{o(w,s);v=null}}if(v){f.value=v.getAttribute("data-val")}f.updateSuggestionContainer(false,v);i.preventDefault()}else{if(u==27){j(f.suggestions)}else{if(u==13||u==9){var w=f.suggestions.querySelector("."+s);if(w&&f.suggestions.style.display!="none"){m.select(w.getAttribute("data-val"),f,w);j(f.suggestions);i.preventDefault()}}}}});c(f,"keyup",function(i){var u=window.event?i.keyCode:i.which;if(!u||(u<35||u>40)&&u!=13&&u!=27){var v=f.value;if(v.length>=m.minimum){if(v!=f.last){f.last=v;clearTimeout(f.timer);f.timer=setTimeout(function(){m.source(v,f,d)},m.delay)}}else{j(f.suggestions);f.last=v}}})}this.destroy=function(){for(var v=0;v<g.length;v++){var u=g[v];removeEvent(window,"resize",u.updateSuggestionContainer);t(u,"blur");t(u,"focus");t(u,"keydown");t(u,"keyup");document.body.removeChild(u.suggestions)}}}return a}());/* jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */
!function(c,d){"object"==typeof module&&"object"==typeof module.exports?module.exports=c.document?d(c,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return d(b)}:d(c)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(a=arguments[h])){for(b in a){c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d))}}}return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return !n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a)){return !1}if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf")){return !1}for(b in a){}return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++){if(b.call(a[d],d,a[d])===!1){break}}}else{for(d in a){if(b.call(a[d],d,a[d])===!1){break}}}return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++){a[e++]=b[d]}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a)){for(d=a.length;d>g;g++){e=b(a[g],g,c),null!=e&&h.push(e)}}else{for(g in a){e=b(a[g],g,c),null!=e&&h.push(e)}}return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length" in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x){return d}if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a))){if(f=o[1]){if(9===x){if(!(j=b.getElementById(f))){return d}if(j.id===f){return d.push(j),d}}else{if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f){return d.push(j),d}}}else{if(o[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName){return H.apply(d,b.getElementsByClassName(f)),d}}}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x){w=b,s=a}else{if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--){r[h]=l+" "+qa(r[h])}s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}}if(s){try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--){d.attrHandle[c[e]]=b}}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f){return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return ka(a,b)}c=a;while(c=c.parentNode){g.unshift(c)}c=b;while(c=c.parentNode){h.unshift(c)}while(g[d]===h[d]){d++}return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p]){if(h?m.nodeName.toLowerCase()===r:1===m.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop()){if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}}else{if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1){while(m=++n&&m&&m[p]||(t=n=0)||o.pop()){if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b)){break}}}}return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=la(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=ma(b)}function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter){!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f){return k[2]=h[2]}if(i[d]=k,k[2]=a(b,c,g)){return !0}}}}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++){fa(a,b[d],c)}return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)))}return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[ra(sa(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||0.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++]){if(q(l,g||n,h)){i.push(l);break}}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++]){q(t,u,g,h)}if(f){if(r>0){while(s--){t[s]||u[s]||(u[s]=F.call(i))}}u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=wa(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType){if(1===a.nodeType){if(e&&n(a).is(c)){break}d.push(a)}}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b)){return n.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return n.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(y.test(b)){return n.filter(b,a,c)}b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a){return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++){if(n.contains(e[b],this)){return !0}}}))}for(b=0;c>b;b++){n.find(a,e[b],d)}return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return !!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a){return this}if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b){return !b||b.jquery?(b||c).find(a):this.constructor(b).find(a)}if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b)){for(e in b){n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e])}}return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++){if(n.contains(this,b[a])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType){}return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length){f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1){f.splice(c,1),h>=c&&h--}}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return !f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return !!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return !!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1){for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++){c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f}}return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c){K(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a)){return{}}var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b){e[b]=c}else{for(d in b){e[d]=b[d]}}return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b){this.register(a)}else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--){delete f[d[c]]}}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType){if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c}catch(e){}O.set(a,b,c)}else{c=void 0}}return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])))}N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c){return c}if(d=n.camelCase(a),c=O.get(f,d),void 0!==c){return c}if(c=R(f,d,void 0),void 0!==c){return c}}else{d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})}},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do{f=f||".5",k/=f,n.style(a,b,k+j)}while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++){N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++){if(f=a[o],f||0===f){if("object"===n.type(f)){n.merge(m,f.nodeType?[f]:f)}else{if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--){g=g.lastChild}n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else{m.push(b.createTextNode(f))}}}}l.textContent="",o=0;while(f=m[o++]){if(d&&n.inArray(f,d)>-1){e&&e.push(f)}else{if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++]){Z.test(f.type||"")&&c.push(f)}}}}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return !0}function ha(){return !1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b){ja(a,h,c,d,b[h],f)}return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1){e=ha}else{if(!e){return a}}return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--){h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--){if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--){k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k))}g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else{for(o in i){n.event.remove(a,o+b[j],c,d,!0)}}}n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped()){a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1)){for(;i!==this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++){f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f)}d.length&&g.push({elem:i,handlers:d})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando]){return a}var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--){c=e[b],a[c]=g[c]}return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j){for(c=0,d=j[e].length;d>c;c++){n.event.add(b,e,j[e][c])}}}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q)){return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)})}if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++){j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m)}if(i){for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++){j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}}}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++){c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d))}return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++){ta(f[d],g[d])}}if(b){if(c){for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++){sa(f[d],g[d])}}else{sa(a,h)}}return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++){if(L(c)){if(b=c[N.expando]){if(b.events){for(d in b.events){e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle)}}c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="")}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType){return b.innerHTML}if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++){c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get())}return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La){return a}var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--){if(a=Ka[c]+b,a in La){return a}}}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)))}return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e)){return e}d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set" in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get" in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+U[d]+b]=f[d]||f[d-2]||f[0]}return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++){f[b[g]]=n.css(a,b[g],!1,d)}return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b){c=U[d],e["margin"+c]=e["padding"+c]=a}return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d]){continue}p=!0}m[d]=q&&q[d]||n.style(a,d)}else{j=void 0}}if(n.isEmptyObject(m)){"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j)}else{q?"hidden" in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m){n.style(a,b,m[b])}});for(d in m){g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function $a(a,b){var c,d,e,f,g;for(c in a){if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++){if(d=_a.prefilters[f].call(j,a,k,j.opts)){return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d}}return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++){c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)}},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&Va.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++){a=c[b],a()||c[b]!==a||c.splice(b--,1)}c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f){return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get" in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))}},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType){while(c=f[e++]){d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f){return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a)){return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))})}if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++]){if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++]){d.indexOf(" "+f+" ")<0&&(d+=f+" ")}h=n.trim(d),e!==h&&c.setAttribute("class",h)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a)){return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))})}if(!arguments.length){return this.attr("class","")}if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++]){if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++]){while(d.indexOf(" "+f+" ")>-1){d=d.replace(" "+f+" "," ")}}h=n.trim(d),e!==h&&c.setAttribute("class",h)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))}})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++]){if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1){return !0}}return !1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--){d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0)}return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode){p.push(h),i=h}i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped()){b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault())}return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin" in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b){return null}try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c)){while(d=f[e++]){"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b){void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c])}return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"))}if(d){for(e in h){if(h[e]&&h[e].test(d)){i.unshift(e);break}}}if(i[0] in c){f=i[0]}else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g)){h[b[1].toLowerCase()]=b[2]}}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>v){for(b in a){s[b]=[s[b],a[b]]}}else{x.always(a[x.status])}}return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v){return x}k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers){x.setRequestHeader(l,m.headers[l])}if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v)){return x.abort()}w="abort";for(l in {success:1,error:1,complete:1}){x[l](m[l])}if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v){return x}m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v)){throw y}z(-1,y)}}else{z(-1,"No Transport")}function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild){a=a.firstElementChild}return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return !n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b)){n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)})}else{if(c||"object"!==n.type(b)){d(a,b)}else{for(e in b){Gb(a+"["+e+"]",b[e],c,d)}}}}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a)){n.each(a,function(){e(this.name,this.value)})}else{for(c in a){Gb(c,a[c],b,e)}}return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials" in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields){for(g in b.xhrFields){h[g]=b.xhrFields[g]}}b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e){h.setRequestHeader(g,e[g])}c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c){throw i}}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb){return Lb.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)})}var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f){return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position")){a=a.offsetParent}return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void (f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});(function(a,c){var b=function(){var d=this;d.o={speed:500,delay:4000,init:0,pause:!c,loop:!c,keys:c,dots:c,arrows:c,prev:"&larr;",next:"&rarr;",fluid:c,starting:c,complete:c,items:">ul",item:">li",easing:"swing",autoplay:true};d.init=function(f,i){d.o=a.extend(d.o,i);d.el=f;d.ul=f.find(d.o.items);d.max=[f.outerWidth()|0,f.outerHeight()|0];d.li=d.ul.find(d.o.item).each(function(l){var m=a(this),n=m.outerWidth(),k=m.outerHeight();if(n>d.max[0]){d.max[0]=n}if(k>d.max[1]){d.max[1]=k}});var i=d.o,j=d.ul,h=d.li,g=h.length;d.i=0;f.css({overflow:"hidden"});j.css({position:"relative",left:0,width:(g*100)+"%"});if(i.fluid){h.css({"float":"left",width:(100/g)+"%"})}else{h.css({"float":"left",width:(d.max[0])+"px"})}a(document).on("carousel.init",function(l,k){if(k.o.autoplay&&k.o.delay){k.start()}});if(i.keys){a(document).keydown(function(k){switch(k.which){case 37:d.prev();break;case 39:d.next();break;case 27:d.stop();break}})}i.dots&&e("dot");i.arrows&&e("arrow");if(a.event.special.move||a.Event("move")){f.on("movestart",function(k){if((k.distX>k.distY&&k.distX<-k.distY)||(k.distX<k.distY&&k.distX>-k.distY)){k.preventDefault()}else{f.data("left",d.ul.offset().left/f.width()*100)}}).on("move",function(k){var l=100*k.distX/f.width();var m=100*k.deltaX/f.width();d.ul[0].style.left=parseInt(d.ul[0].style.left.replace("%",""))+m+"%";d.ul.data("left",l)}).on("moveend",function(k){var m=d.ul.data("left");if(Math.abs(m)>30){var l=m>0?d.i-1:d.i+1;if(l<0||l>=g){l=d.i}d.to(l)}else{d.to(d.i)}})}return d};d.to=function(j,f){if(d.t){d.stop();d.play()}var l=d.o,i=d.el,p=d.ul,k=d.li,g=d.i,n=k.eq(j);a.isFunction(l.starting)&&!f&&l.starting(i,k.eq(g));if((!n.length||j<0)&&l.loop===c){return}if(!n.length){j=0}if(j<0){j=k.length-1}n=k.eq(j);var m=f?5:l.speed|0,h=l.easing;if(!p.queue("fx").length){i.find(".dot").eq(j).attr("aria-selected","true").addClass("dot--active").siblings().removeClass("dot--active").attr("aria-selected","false");i.animate({},m,h)&&p.animate({left:"-"+j+"00%"},m,h,function(o){d.i=j;a.isFunction(l.complete)&&!f&&l.complete(i,n)})}};d.start=function(){d.play();if(d.o.pause){d.el.on("mouseover mouseout",function(f){d.stop();f.type==="mouseout"&&d.play()})}};d.play=function(){if(d.o.delay){d.t=setTimeout(function(){d.to(d.i+1)},d.o.delay)}else{d.to(d.i+1)}};d.stop=function(){clearTimeout(d.t);return d};d.next=function(){return d.stop().to(d.i+1)};d.prev=function(){return d.stop().to(d.i-1)};function e(g,f){if(g=="dot"){f='<ol class="carousel__dots" role="tablist">';a.each(d.li,function(h){f+='<li role="button" class="'+(h===d.i?g+' dot--active" aria-selected="true"':g)+'">'+ ++h+"</li>"});f+="</ol>"}else{f='<div class="';f=f+g+'s">'+f+g+' arrow--previous" aria-label="previous slide" role="button">'+d.o.prev+"</div>"+f+g+' arrow--next" aria-label="next slide" role="button">'+d.o.next+"</div></div>"}d.el.addClass("carousel--has"+g+"s").append(f).find("."+g).click(function(){var h=a(this);h.hasClass("dot")?d.stop().to(h.index()):h.hasClass("arrow--previous")?d.prev():d.next()})}};a.fn.carousel=function(e){var d=this.length;var f=this.each(function(g){var j=a(this),i="carousel"+(d>1?"-"+ ++g:""),h=(new b).init(j,e);j.data(i,h).data("key",i).trigger("carousel.init",h)});return f}})(jQuery,false);/*
 * JavaScript Cookie v2.1.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
(function(c){if(typeof define==="function"&&define.amd){define(c)}else{if(typeof exports==="object"){module.exports=c()}else{var a=window.Cookies;var b=window.Cookies=c();b.noConflict=function(){window.Cookies=a;return b}}}}(function(){function a(){var d=0;var f={};for(;d<arguments.length;d++){var c=arguments[d];for(var e in c){f[e]=c[e]}}return f}function b(d){function c(m,r,f){var q;if(arguments.length>1){f=a({path:"/"},c.defaults,f);if(typeof f.expires==="number"){var k=new Date();k.setMilliseconds(k.getMilliseconds()+f.expires*86400000);f.expires=k}try{q=JSON.stringify(r);if(/^[\{\[]/.test(q)){r=q}}catch(j){}if(!d.write){r=encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{r=d.write(r,m)}m=encodeURIComponent(String(m));m=m.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);m=m.replace(/[\(\)]/g,escape);return(document.cookie=[m,"=",r,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure?"; secure":""].join(""))}if(!m){q={}}var h=document.cookie?document.cookie.split("; "):[];var p=/(%[0-9A-Z]{2})+/g;var l=0;for(;l<h.length;l++){var o=h[l].split("=");var n=o[0].replace(p,decodeURIComponent);var g=o.slice(1).join("=");if(g.charAt(0)==='"'){g=g.slice(1,-1)}try{g=d.read?d.read(g,n):d(g,n)||g.replace(p,decodeURIComponent);if(this.json){try{g=JSON.parse(g)}catch(j){}}if(m===n){q=g;break}if(!m){q[n]=g}}catch(j){}}return q}c.get=c.set=c;c.getJSON=function(){return c.apply({json:true},[].slice.call(arguments))};c.defaults={};c.remove=function(f,e){c(f,"",a(e,{expires:-1}))};c.withConverter=b;return c}return b(function(){})}));function resizeBlock(c){var b=0;var a=0;var d=[];var e=0;c.each(function(){$(this).outerHeight("auto");e=$(this).offset().top;if(a!=e){for(currentDiv=0;currentDiv<d.length;currentDiv++){d[currentDiv].outerHeight(b)}d.length=0;a=e;b=$(this).outerHeight();d.push($(this))}else{d.push($(this));b=Math.max(b,$(this).outerHeight())}for(currentDiv=0;currentDiv<d.length;currentDiv++){d[currentDiv].outerHeight(b)}})};(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}})(function(o,O){var G=6,e=o.event.add,v=o.event.remove,M=function(R,S,Q){o.event.trigger(S,Q,R)},B=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(R,Q){return window.setTimeout(function(){R()},25)})})(),m={textarea:true,input:true,select:true,button:true},r={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},J={move:"touchmove",cancel:"touchend",end:"touchend"};function H(S){var R=S,Q=false,T=false;function U(V){if(Q){R();B(U);T=true;Q=false}else{T=false}}this.kick=function(V){Q=true;if(!T){U()}};this.end=function(W){var V=R;if(!W){return}if(!T){W()}else{R=Q?function(){V();W()}:W;Q=true}}}function D(){return true}function C(){return false}function t(Q){Q.preventDefault()}function u(Q){if(m[Q.target.tagName.toLowerCase()]||Q.target.tagName.toLowerCase()==="video"){return}Q.preventDefault()}function n(Q){return(Q.which===1&&!Q.ctrlKey&&!Q.altKey)}function l(T,R){var Q,S;if(T.identifiedTouch){return T.identifiedTouch(R)}Q=-1;S=T.length;while(++Q<S){if(T[Q].identifier===R){return T[Q]}}}function g(Q,R){var S=l(Q.changedTouches,R.identifier);if(!S){return}if(S.pageX===R.pageX&&S.pageY===R.pageY){return}return S}function p(R){var Q;if(!n(R)){return}Q={target:R.target,startX:R.pageX,startY:R.pageY,timeStamp:R.timeStamp};e(document,r.move,s,Q);e(document,r.cancel,q,Q)}function s(R){var Q=R.data;h(R,Q,R,z)}function q(Q){z()}function z(){v(document,r.move,s);v(document,r.cancel,q)}function L(Q){var S,R;if(m[Q.target.tagName.toLowerCase()]){return}S=Q.changedTouches[0];R={target:S.target,startX:S.pageX,startY:S.pageY,timeStamp:Q.timeStamp,identifier:S.identifier};e(document,J.move+"."+S.identifier,K,R);e(document,J.cancel+"."+S.identifier,I,R)}function K(R){var Q=R.data,S=g(R,Q);if(!S){return}h(R,Q,S,A)}function I(Q){var R=Q.data,S=l(Q.changedTouches,R.identifier);if(!S){return}A(R.identifier)}function A(Q){v(document,"."+Q,K);v(document,"."+Q,I)}function h(S,U,V,T){var Q=V.pageX-U.startX,R=V.pageY-U.startY;if((Q*Q)+(R*R)<(G*G)){return}N(S,U,V,Q,R,T)}function k(){this._handled=D;return false}function j(Q){Q._handled()}function N(S,V,X,Q,R,T){var U=V.target,Y,W;Y=S.targetTouches;W=S.timeStamp-V.timeStamp;V.type="movestart";V.distX=Q;V.distY=R;V.deltaX=Q;V.deltaY=R;V.pageX=X.pageX;V.pageY=X.pageY;V.velocityX=Q/W;V.velocityY=R/W;V.targetTouches=Y;V.finger=Y?Y.length:1;V._handled=k;V._preventTouchmoveDefault=function(){S.preventDefault()};M(V.target,V);T(V.identifier)}function b(Q){var R=Q.data.timer;Q.data.touch=Q;Q.data.timeStamp=Q.timeStamp;R.kick()}function a(Q){var R=Q.data.event,S=Q.data.timer;w();i(R,S,function(){setTimeout(function(){v(R.target,"click",C)},0)})}function w(Q){v(document,r.move,b);v(document,r.end,a)}function d(Q){var R=Q.data.event,S=Q.data.timer,T=g(Q,R);if(!T){return}Q.preventDefault();R.targetTouches=Q.targetTouches;Q.data.touch=T;Q.data.timeStamp=Q.timeStamp;S.kick()}function c(Q){var R=Q.data.event,S=Q.data.timer,T=l(Q.changedTouches,R.identifier);if(!T){return}x(R);i(R,S)}function x(Q){v(document,"."+Q.identifier,d);v(document,"."+Q.identifier,c)}function P(Q,U,T,S){var R=T-Q.timeStamp;Q.type="move";Q.distX=U.pageX-Q.startX;Q.distY=U.pageY-Q.startY;Q.deltaX=U.pageX-Q.pageX;Q.deltaY=U.pageY-Q.pageY;Q.velocityX=0.3*Q.velocityX+0.7*Q.deltaX/R;Q.velocityY=0.3*Q.velocityY+0.7*Q.deltaY/R;Q.pageX=U.pageX;Q.pageY=U.pageY}function i(Q,S,R){S.end(function(){Q.type="moveend";M(Q.target,Q);return R&&R()})}function E(Q,S,R){e(this,"movestart.move",j);return true}function F(Q){v(this,"dragstart drag",t);v(this,"mousedown touchstart",u);v(this,"movestart",j);return true}function f(Q){if(Q.namespace==="move"||Q.namespace==="moveend"){return}e(this,"dragstart."+Q.guid+" drag."+Q.guid,t,O,Q.selector);e(this,"mousedown."+Q.guid,u,O,Q.selector)}function y(Q){if(Q.namespace==="move"||Q.namespace==="moveend"){return}v(this,"dragstart."+Q.guid+" drag."+Q.guid);v(this,"mousedown."+Q.guid)}o.event.special.movestart={setup:E,teardown:F,add:f,remove:y,_default:function(R){var S,Q;if(!R._handled()){return}function T(U){P(S,Q.touch,Q.timeStamp);M(R.target,S)}S={target:R.target,startX:R.startX,startY:R.startY,pageX:R.pageX,pageY:R.pageY,distX:R.distX,distY:R.distY,deltaX:R.deltaX,deltaY:R.deltaY,velocityX:R.velocityX,velocityY:R.velocityY,timeStamp:R.timeStamp,identifier:R.identifier,targetTouches:R.targetTouches,finger:R.finger};Q={event:S,timer:new H(T),touch:O,timeStamp:O};if(R.identifier===O){e(R.target,"click",C);e(document,r.move,b,Q);e(document,r.end,a,Q)}else{R._preventTouchmoveDefault();e(document,J.move+"."+R.identifier,d,Q);e(document,J.end+"."+R.identifier,c,Q)}}};o.event.special.move={setup:function(){e(this,"movestart.move",o.noop)},teardown:function(){v(this,"movestart.move",o.noop)}};o.event.special.moveend={setup:function(){e(this,"movestart.moveend",o.noop)},teardown:function(){v(this,"movestart.moveend",o.noop)}};e(document,"mousedown.move",p);e(document,"touchstart.move",L);if(typeof Array.prototype.indexOf==="function"){(function(Q,T){var S=["changedTouches","targetTouches"],R=S.length;while(R--){if(Q.event.props.indexOf(S[R])===-1){Q.event.props.push(S[R])}}})(o)}});(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if((typeof module!=="undefined"&&module!==null)&&module.exports){module.exports=a}else{a(jQuery)}}})(function(c,h){var a=c.event.add,e=c.event.remove,g=function(j,k,i){c.event.trigger(k,i,j)},f={threshold:0.4,sensitivity:6};function d(i){var l,k,j;l=i.currentTarget.offsetWidth;k=i.currentTarget.offsetHeight;j={distX:i.distX,distY:i.distY,velocityX:i.velocityX,velocityY:i.velocityY,finger:i.finger};if(i.distX>i.distY){if(i.distX>-i.distY){if(i.distX/l>f.threshold||i.velocityX*i.distX/l*f.sensitivity>1){j.type="swiperight";g(i.currentTarget,j)}}else{if(-i.distY/k>f.threshold||i.velocityY*i.distY/l*f.sensitivity>1){j.type="swipeup";g(i.currentTarget,j)}}}else{if(i.distX>-i.distY){if(i.distY/k>f.threshold||i.velocityY*i.distY/l*f.sensitivity>1){j.type="swipedown";g(i.currentTarget,j)}}else{if(-i.distX/l>f.threshold||i.velocityX*i.distX/l*f.sensitivity>1){j.type="swipeleft";g(i.currentTarget,j)}}}}function b(j){var i=c.data(j,"event_swipe");if(!i){i={count:0};c.data(j,"event_swipe",i)}return i}c.event.special.swipe=c.event.special.swipeleft=c.event.special.swiperight=c.event.special.swipeup=c.event.special.swipedown={setup:function(i,k,j){var i=b(this);if(i.count++>0){return}a(this,"moveend",d);return true},teardown:function(){var i=b(this);if(--i.count>0){return}e(this,"moveend",d);return true},settings:f}});$(document).ready(function(){$(".accordion__heading").unbind("click");$(".accordion__heading").keypress(function(a){if(a.keyCode==13){$(this).click()}});$(".accordion__heading").on("click",function(b){var a=$(this).parents(".accordion");if(a.hasClass("accordion--open")){a.find(".accordion__content").slideUp(400,function(){a.removeClass("accordion--open");a.addClass("accordion--closed")});$(this).attr("aria-expanded","false")}else{a.removeClass("accordion--closed");a.addClass("accordion--open");a.find(".accordion__content").slideDown(400);$(this).attr("aria-expanded","true")}})});(function(e,d,a){var c=function(j,f){var g={onClose:function(m){}};var l=this;this._configure=function(m){for(var n in m){if(g.hasOwnProperty(n)&&m.hasOwnProperty(n)){l[n]=m[n]}}};this._configure(a.extend({},g,f));this.id=j;this.el=a("#"+j);this.el.find(".dialog__close").on("click",function(m){l.close();m.stopPropagation()});this.el.on("click",function(m){l.close()});this.el.keyup(function(m){if(m.keyCode==27){l.close()}});var i=this.el.find("a, object, :input, iframe, [tabindex]"),h=i.first()[0],k=i.last()[0];a(this.el).on("keydown",function(m){if(!(m.key==="Tab"||m.keyCode===9)){return}if(m.shiftKey){if(d.activeElement===h){k.focus();m.preventDefault()}}else{if(d.activeElement===k){h.focus();m.preventDefault()}}});this.el.find(".dialog__content").on("click",function(m){m.stopPropagation()});if(!this.el.hasClass("dialog--hidden")){this.open()}};c.prototype.configure=function(f){this._configure(f)};c.prototype.isVisible=function(){return !(this.el.hasClass("dialog--hidden"))};c.prototype.toggle=function(){if(this.isVisible()){this.close()}else{this.open()}};c.prototype.open=function(){this.el.removeClass("dialog--hidden");a("body").css("overflow","hidden");this.el.find("a, object, :input, iframe, [tabindex]").first()[0].focus()};c.prototype.close=function(){this.el.addClass("dialog--hidden");a("body").css("overflow","");this.onClose(this)};var b=[];e.dialog=function(j,f){for(var h=0;h<b.length;h++){if(b[h].id==j){if(f!=="undefined"){b[h].configure(f)}return b[h]}}var g=new c(j,f);b.push(g);return g};a(d).ready(function(){a(".dialog").each(function(){e.dialog(a(this).attr("id"))})})}(window.gi=window.gi||{},document||window.document,jQuery));function removeAllRelatedClass(b,d){var a=b.attr("class").split(" ");for(var c=0;c<a.length;c++){if(a[c].indexOf(d)!=-1){b.removeClass(a[c])}}}function calculateGridCols(a,b){a.each(function(f){if($(this).data("grid-mincolwidth")!=undefined&&$(this).data("grid-maxcols")!=undefined){var c=$(this).data("grid-mincolwidth");var g=$(this).data("grid-maxcols");var e=$(this).outerWidth(true);var h=e/c;h=Math.floor(h);if($(this).data("grid-step")!=undefined){var j=$(this).data("grid-step");var i=h%j;if(i!=0){h=h/j;h=Math.floor(h);h=Math.floor(h)*j}}if(h<1){h=1}else{if(h>g){h=g}}removeAllRelatedClass($(this),b);$(this).addClass("grid--"+h+"col");var d=$(this).find("> .grid__cell");if(d.data("grid-colspan")!=undefined){d.each(function(k){var l=$(this).data("grid-colspan");if(l>h){l=h}removeAllRelatedClass($(this),b);$(this).addClass("grid__cell--cols"+l)})}}})}$(document).ready(function(){calculateGridCols($(".grid"),"col")});$(window).resize(function(){calculateGridCols($(".grid"),"col")});$(window).on("load resize",function(){if($(".searchoptions--mobile").length){var b=$(".searchresults").outerHeight(true);var c=$(".grid--searchresults").offset().top;var d=$(window).height();var a=c+b;$(window).on("resize scroll load",function(){if($(window).scrollTop()>=c&&$(window).scrollTop()<a){$(".searchoptions--mobile").addClass("searchoptions--fixed")}else{$(".searchoptions--mobile").removeClass("searchoptions--fixed")}if($(".searchoptions--mobile").hasClass("searchoptions--fixed")&&$(".searchoptions--mobile").hasClass("searchoptions--open")){$("body").addClass("body--fixed")}else{$("body").removeClass("body--fixed")}})}});$(document).ready(function(){$(".searchoptions--mobile").find(".searchoptions__title").keypress(function(a){if(a.keyCode==13){$(this).click()}});$(".searchoptions--mobile").find(".searchoptions__title").on("click",function(){$(".searchoptions--mobile").toggleClass("searchoptions--open").toggleClass("searchoptions--close");$(this).toggleClass("searchoptions__title--open").toggleClass("searchoptions__title--close");$(this).siblings().toggleClass("searchoptions__content--open").toggleClass("searchoptions__content--close");if($(".searchoptions--mobile").hasClass("searchoptions--fixed")&&$(".searchoptions--mobile").hasClass("searchoptions--open")){$("body").addClass("body--fixed")}else{$("body").removeClass("body--fixed")}});$(".facet__heading").keypress(function(a){if(a.keyCode==13){$(this).click()}});$(".facet__heading").on("click",function(){$(this).parent().find(".facet").toggleClass("facet--open").toggleClass("facet--close");$(this).toggleClass("facet__heading--open").toggleClass("facet__heading--close");$(this).siblings().toggleClass("facet__list--open").toggleClass("facet__list--close")})});(function(a,c){var b=function(){var d=this;d.o={speed:500,delay:4000,init:0,pause:!c,loop:!c,keys:c,dots:c,arrows:c,prev:"&larr;",next:"&rarr;",fluid:c,starting:c,complete:c,items:">ul",item:">li",easing:"swing",autoplay:true};d.init=function(f,i){d.o=a.extend(d.o,i);d.el=f;d.ul=f.find(d.o.items);d.max=[f.outerWidth()|0,f.outerHeight()|0];d.li=d.ul.find(d.o.item).each(function(l){var m=a(this),n=m.outerWidth(),k=m.outerHeight();if(n>d.max[0]){d.max[0]=n}if(k>d.max[1]){d.max[1]=k}});var i=d.o,j=d.ul,h=d.li,g=h.length;d.i=0;f.css({overflow:"hidden"});j.css({position:"relative",left:0,width:(g*100)+"%"});if(i.fluid){h.css({"float":"left",width:(100/g)+"%"})}else{h.css({"float":"left",width:(d.max[0])+"px"})}a(document).on("carousel.init",function(l,k){if(k.o.autoplay&&k.o.delay){k.start()}});if(i.keys){a(document).keydown(function(k){switch(k.which){case 37:d.prev();break;case 39:d.next();break;case 27:d.stop();break}})}i.dots&&e("dot");i.arrows&&e("arrow");if(a.event.special.move||a.Event("move")){f.on("movestart",function(k){if((k.distX>k.distY&&k.distX<-k.distY)||(k.distX<k.distY&&k.distX>-k.distY)){k.preventDefault()}else{f.data("left",d.ul.offset().left/f.width()*100)}}).on("move",function(k){var l=100*k.distX/f.width();var m=100*k.deltaX/f.width();d.ul[0].style.left=parseInt(d.ul[0].style.left.replace("%",""))+m+"%";d.ul.data("left",l)}).on("moveend",function(k){var m=d.ul.data("left");if(Math.abs(m)>30){var l=m>0?d.i-1:d.i+1;if(l<0||l>=g){l=d.i}d.to(l)}else{d.to(d.i)}})}return d};d.to=function(j,f){if(d.t){d.stop();d.play()}var l=d.o,i=d.el,p=d.ul,k=d.li,g=d.i,n=k.eq(j);a.isFunction(l.starting)&&!f&&l.starting(i,k.eq(g));if((!n.length||j<0)&&l.loop===c){return}if(!n.length){j=0}if(j<0){j=k.length-1}n=k.eq(j);var m=f?5:l.speed|0,h=l.easing;if(!p.queue("fx").length){i.find(".dot").eq(j).addClass("active").siblings().removeClass("active");i.animate({},m,h)&&p.animate({left:"-"+j+"00%"},m,h,function(o){d.i=j;a.isFunction(l.complete)&&!f&&l.complete(i,n)})}};d.start=function(){d.play();if(d.o.pause){d.el.on("mouseover mouseout",function(f){d.stop();f.type==="mouseout"&&d.play()})}};d.play=function(){if(d.o.delay){d.t=setTimeout(function(){d.to(d.i+1)},d.o.delay)}else{d.to(d.i+1)}};d.stop=function(){clearTimeout(d.t);return d};d.next=function(){return d.stop().to(d.i+1)};d.prev=function(){return d.stop().to(d.i-1)};function e(g,f){if(g=="dot"){f='<ol class="dots">';a.each(d.li,function(h){f+='<li class="'+(h===d.i?g+" active":g)+'">'+ ++h+"</li>"});f+="</ol>"}else{f='<div class="';f=f+g+'s">'+f+g+' prev">'+d.o.prev+"</div>"+f+g+' next">'+d.o.next+"</div></div>"}d.el.addClass("has-"+g+"s").before(f);a("."+g).click(function(){var h=a(this);h.hasClass("dot")?d.stop().to(h.index()):h.hasClass("prev")?d.prev():d.next()})}};a.fn.carousel=function(e){var d=this.length;var f=this.each(function(g){var j=a(this),i="carousel"+(d>1?"-"+ ++g:""),h=(new b).init(j,e);j.data(i,h).data("key",i).trigger("carousel.init",h)});return f}})(jQuery,false);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}})(function(o,O){var G=6,e=o.event.add,v=o.event.remove,M=function(R,S,Q){o.event.trigger(S,Q,R)},B=(function(){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(R,Q){return window.setTimeout(function(){R()},25)})})(),m={textarea:true,input:true,select:true,button:true},r={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},J={move:"touchmove",cancel:"touchend",end:"touchend"};function H(S){var R=S,Q=false,T=false;function U(V){if(Q){R();B(U);T=true;Q=false}else{T=false}}this.kick=function(V){Q=true;if(!T){U()}};this.end=function(W){var V=R;if(!W){return}if(!T){W()}else{R=Q?function(){V();W()}:W;Q=true}}}function D(){return true}function C(){return false}function t(Q){Q.preventDefault()}function u(Q){if(m[Q.target.tagName.toLowerCase()]){return}Q.preventDefault()}function n(Q){return(Q.which===1&&!Q.ctrlKey&&!Q.altKey)}function l(T,R){var Q,S;if(T.identifiedTouch){return T.identifiedTouch(R)}Q=-1;S=T.length;while(++Q<S){if(T[Q].identifier===R){return T[Q]}}}function g(Q,R){var S=l(Q.changedTouches,R.identifier);if(!S){return}if(S.pageX===R.pageX&&S.pageY===R.pageY){return}return S}function p(R){var Q;if(!n(R)){return}Q={target:R.target,startX:R.pageX,startY:R.pageY,timeStamp:R.timeStamp};e(document,r.move,s,Q);e(document,r.cancel,q,Q)}function s(R){var Q=R.data;h(R,Q,R,z)}function q(Q){z()}function z(){v(document,r.move,s);v(document,r.cancel,q)}function L(Q){var S,R;if(m[Q.target.tagName.toLowerCase()]){return}S=Q.changedTouches[0];R={target:S.target,startX:S.pageX,startY:S.pageY,timeStamp:Q.timeStamp,identifier:S.identifier};e(document,J.move+"."+S.identifier,K,R);e(document,J.cancel+"."+S.identifier,I,R)}function K(R){var Q=R.data,S=g(R,Q);if(!S){return}h(R,Q,S,A)}function I(Q){var R=Q.data,S=l(Q.changedTouches,R.identifier);if(!S){return}A(R.identifier)}function A(Q){v(document,"."+Q,K);v(document,"."+Q,I)}function h(S,U,V,T){var Q=V.pageX-U.startX,R=V.pageY-U.startY;if((Q*Q)+(R*R)<(G*G)){return}N(S,U,V,Q,R,T)}function k(){this._handled=D;return false}function j(Q){Q._handled()}function N(S,V,X,Q,R,T){var U=V.target,Y,W;Y=S.targetTouches;W=S.timeStamp-V.timeStamp;V.type="movestart";V.distX=Q;V.distY=R;V.deltaX=Q;V.deltaY=R;V.pageX=X.pageX;V.pageY=X.pageY;V.velocityX=Q/W;V.velocityY=R/W;V.targetTouches=Y;V.finger=Y?Y.length:1;V._handled=k;V._preventTouchmoveDefault=function(){S.preventDefault()};M(V.target,V);T(V.identifier)}function b(Q){var R=Q.data.timer;Q.data.touch=Q;Q.data.timeStamp=Q.timeStamp;R.kick()}function a(Q){var R=Q.data.event,S=Q.data.timer;w();i(R,S,function(){setTimeout(function(){v(R.target,"click",C)},0)})}function w(Q){v(document,r.move,b);v(document,r.end,a)}function d(Q){var R=Q.data.event,S=Q.data.timer,T=g(Q,R);if(!T){return}Q.preventDefault();R.targetTouches=Q.targetTouches;Q.data.touch=T;Q.data.timeStamp=Q.timeStamp;S.kick()}function c(Q){var R=Q.data.event,S=Q.data.timer,T=l(Q.changedTouches,R.identifier);if(!T){return}x(R);i(R,S)}function x(Q){v(document,"."+Q.identifier,d);v(document,"."+Q.identifier,c)}function P(Q,U,T,S){var R=T-Q.timeStamp;Q.type="move";Q.distX=U.pageX-Q.startX;Q.distY=U.pageY-Q.startY;Q.deltaX=U.pageX-Q.pageX;Q.deltaY=U.pageY-Q.pageY;Q.velocityX=0.3*Q.velocityX+0.7*Q.deltaX/R;Q.velocityY=0.3*Q.velocityY+0.7*Q.deltaY/R;Q.pageX=U.pageX;Q.pageY=U.pageY}function i(Q,S,R){S.end(function(){Q.type="moveend";M(Q.target,Q);return R&&R()})}function E(Q,S,R){e(this,"movestart.move",j);return true}function F(Q){v(this,"dragstart drag",t);v(this,"mousedown touchstart",u);v(this,"movestart",j);return true}function f(Q){if(Q.namespace==="move"||Q.namespace==="moveend"){return}e(this,"dragstart."+Q.guid+" drag."+Q.guid,t,O,Q.selector);e(this,"mousedown."+Q.guid,u,O,Q.selector)}function y(Q){if(Q.namespace==="move"||Q.namespace==="moveend"){return}v(this,"dragstart."+Q.guid+" drag."+Q.guid);v(this,"mousedown."+Q.guid)}o.event.special.movestart={setup:E,teardown:F,add:f,remove:y,_default:function(R){var S,Q;if(!R._handled()){return}function T(U){P(S,Q.touch,Q.timeStamp);M(R.target,S)}S={target:R.target,startX:R.startX,startY:R.startY,pageX:R.pageX,pageY:R.pageY,distX:R.distX,distY:R.distY,deltaX:R.deltaX,deltaY:R.deltaY,velocityX:R.velocityX,velocityY:R.velocityY,timeStamp:R.timeStamp,identifier:R.identifier,targetTouches:R.targetTouches,finger:R.finger};Q={event:S,timer:new H(T),touch:O,timeStamp:O};if(R.identifier===O){e(R.target,"click",C);e(document,r.move,b,Q);e(document,r.end,a,Q)}else{R._preventTouchmoveDefault();e(document,J.move+"."+R.identifier,d,Q);e(document,J.end+"."+R.identifier,c,Q)}}};o.event.special.move={setup:function(){e(this,"movestart.move",o.noop)},teardown:function(){v(this,"movestart.move",o.noop)}};o.event.special.moveend={setup:function(){e(this,"movestart.moveend",o.noop)},teardown:function(){v(this,"movestart.moveend",o.noop)}};e(document,"mousedown.move",p);e(document,"touchstart.move",L);if(typeof Array.prototype.indexOf==="function"){(function(Q,T){var S=["changedTouches","targetTouches"],R=S.length;while(R--){if(Q.event.props.indexOf(S[R])===-1){Q.event.props.push(S[R])}}})(o)}});(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if((typeof module!=="undefined"&&module!==null)&&module.exports){module.exports=a}else{a(jQuery)}}})(function(c,h){var a=c.event.add,e=c.event.remove,g=function(j,k,i){c.event.trigger(k,i,j)},f={threshold:0.4,sensitivity:6};function d(i){var l,k,j;l=i.currentTarget.offsetWidth;k=i.currentTarget.offsetHeight;j={distX:i.distX,distY:i.distY,velocityX:i.velocityX,velocityY:i.velocityY,finger:i.finger};if(i.distX>i.distY){if(i.distX>-i.distY){if(i.distX/l>f.threshold||i.velocityX*i.distX/l*f.sensitivity>1){j.type="swiperight";g(i.currentTarget,j)}}else{if(-i.distY/k>f.threshold||i.velocityY*i.distY/l*f.sensitivity>1){j.type="swipeup";g(i.currentTarget,j)}}}else{if(i.distX>-i.distY){if(i.distY/k>f.threshold||i.velocityY*i.distY/l*f.sensitivity>1){j.type="swipedown";g(i.currentTarget,j)}}else{if(-i.distX/l>f.threshold||i.velocityX*i.distX/l*f.sensitivity>1){j.type="swipeleft";g(i.currentTarget,j)}}}}function b(j){var i=c.data(j,"event_swipe");if(!i){i={count:0};c.data(j,"event_swipe",i)}return i}c.event.special.swipe=c.event.special.swipeleft=c.event.special.swiperight=c.event.special.swipeup=c.event.special.swipedown={setup:function(i,k,j){var i=b(this);if(i.count++>0){return}a(this,"moveend",d);return true},teardown:function(){var i=b(this);if(--i.count>0){return}e(this,"moveend",d);return true},settings:f}});/*
 * JavaScript Cookie v2.1.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
(function(c){if(typeof define==="function"&&define.amd){define(c)}else{if(typeof exports==="object"){module.exports=c()}else{var a=window.Cookies;var b=window.Cookies=c();b.noConflict=function(){window.Cookies=a;return b}}}}(function(){function a(){var d=0;var f={};for(;d<arguments.length;d++){var c=arguments[d];for(var e in c){f[e]=c[e]}}return f}function b(d){function c(m,r,f){var q;if(arguments.length>1){f=a({path:"/"},c.defaults,f);if(typeof f.expires==="number"){var k=new Date();k.setMilliseconds(k.getMilliseconds()+f.expires*86400000);f.expires=k}try{q=JSON.stringify(r);if(/^[\{\[]/.test(q)){r=q}}catch(j){}if(!d.write){r=encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)}else{r=d.write(r,m)}m=encodeURIComponent(String(m));m=m.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);m=m.replace(/[\(\)]/g,escape);return(document.cookie=[m,"=",r,f.expires&&"; expires="+f.expires.toUTCString(),f.path&&"; path="+f.path,f.domain&&"; domain="+f.domain,f.secure?"; secure":""].join(""))}if(!m){q={}}var h=document.cookie?document.cookie.split("; "):[];var p=/(%[0-9A-Z]{2})+/g;var l=0;for(;l<h.length;l++){var o=h[l].split("=");var n=o[0].replace(p,decodeURIComponent);var g=o.slice(1).join("=");if(g.charAt(0)==='"'){g=g.slice(1,-1)}try{g=d.read?d.read(g,n):d(g,n)||g.replace(p,decodeURIComponent);if(this.json){try{g=JSON.parse(g)}catch(j){}}if(m===n){q=g;break}if(!m){q[n]=g}}catch(j){}}return q}c.get=c.set=c;c.getJSON=function(){return c.apply({json:true},[].slice.call(arguments))};c.defaults={};c.remove=function(f,e){c(f,"",a(e,{expires:-1}))};c.withConverter=b;return c}return b(function(){})}));$(document).ready(function(){$(".accordion__link").click(function(){$(".accordion__body",this).slideToggle(400);$(".accordion__intro",this).toggle();if(jQuery(".accordion__button",this).html()=="Open"){jQuery(".accordion__button",this).text("Close")}else{jQuery(".accordion__button",this).text("Open")}$(this).toggleClass("accordion__link--open")})});var moWarnWidgetParams="?size=large&amp;height=220&amp;zoom=8&amp;theme=dark&amp;border=black&amp;locId=351290&amp;lang=en&amp;domain=www.metoffice.gov.uk&amp;";var debug=false;$(document).ready(function(){$(".socialmediasharing__print").on("click",function(){if(parseInt(navigator.appVersion)>=4){window.print()}return false});$(".noJS").removeClass("noJS");var h=$("div.a-body table");h.wrap('<div class="table-responsive" />');var b=document.createElement("div");b.className="table__help";var c=document.createElement("span");var d=document.createTextNode("Swipe to see full table");c.className="fa fa-arrow-left";var a=document.createElement("span");a.className="fa fa-hand-o-up";var f=document.createElement("span");f.className="fa fa-arrow-right";b.appendChild(d);b.appendChild(c);b.appendChild(a);b.appendChild(f);var g=document.getElementsByClassName("table-responsive");$(b).prependTo(g);$(".btn--mobile").click(function(){var i=$(this).attr("id");switch(i){case"searchbutton":$("#mobilesearch").slideToggle("fast");break;case"navbutton":$("#mobilenav").slideToggle("fast");break;default:break}});$(".breadcrumb--click").click(function(){$("ol.breadcrumb").toggle()});if($(".carousel__panel").length>1){$(".carousel").addClass("carousel--slider").carousel({delay:false,keys:false,arrows:true,fluid:true,prev:'<i class="fa fa-chevron-left" aria-hidden="true"></i>',next:'<i class="fa fa-chevron-right" aria-hidden="true"></i>'})}$("#explore__button").click(function(){$("#explore__extra").slideToggle("fast");e=false});var e=false;$(window).resize(function(){if($(window).width()>=760&&!e){e=true;$("#explore__extra").removeAttr("style")}})});RemoveExternalLinks=function(){if(!$("a").hasClass("ignore")&&$("a").attr("target","_blank")){$("a").removeAttr("target")}};UpdateLinkStyles=function(){if($("a[href*='#']")){$("a[href*='#']").addClass("a_body__link")}};var contactus=function(){var a=document.getElementsByClassName("panel--contacts")[0];if(a){expandPanel(a.firstElementChild);a.scrollIntoView()}else{console.log("contact panel not found")}};var expandPanel=function(a){if(a.parentElement.children[1]&&a.parentElement.children[1].classList.contains("panel__content")){a.parentElement.children[1].classList.toggle("open")}else{console.log("element not found")}};var resizeIframe=function(){var a=document.getElementById("map_iframe");if(a){document.domain="durham.gov.uk";var b=a.contentWindow||a.contentDocument.parentWindow;if(b.document.body){if(b.document.body.scrollHeight&&(parseInt(b.document.body.scrollHeight)!==parseInt(a.height))){a.height=b.document.body.scrollHeight+30+"px"}else{if(b.document.documentElement.scrollHeight){a.height=b.document.documentElement.scrollHeight+30+"px"}}}}};window.onload=window.onresize=function(){var e=document.getElementsByClassName("a_body__script");if(e){for(var f=0;f<e.length;f++){if(e[f].getElementsByTagName("iframe")){if(debug){console.log("found iframe: ",e[f])}var d=e[f].getElementsByTagName("iframe")[0];var b=document.getElementsByClassName("a-body")[0];if(debug){console.log("Setting iframe: ",d);console.log("current width: ",d.clientWidth);console.log("current height: ",d.clientHeight)}var a=((b.clientWidth-d.clientWidth)*-1)/2;if(debug){console.log("adjust by: ",a)}var c=d.clientHeight-a;d.setAttribute("width",b.clientWidth.toString());d.setAttribute("height",c.toString());if(debug){console.log("Set iframe: ",d);console.log("new width: ",d.clientWidth);console.log("new height: ",d.clientHeight)}}}}};(function(a,O,z,J){var u=O.document,b=a(u),c=a(O),H=Array.prototype,L=1.41,t=true,I=30000,w=false,E=navigator.userAgent.toLowerCase(),A=O.location.hash.replace(/#\//,""),G=O.location.protocol,D=Math,x=function(){},y=function(){return false},B=(function(){var P=3,M=u.createElement("div"),F=M.getElementsByTagName("i");do{M.innerHTML="<!--[if gt IE "+(++P)+"]><i></i><![endif]-->"}while(F[0]);return P>4?P:u.documentMode||J}()),v=function(){return{html:u.documentElement,body:u.body,head:u.getElementsByTagName("head")[0],title:u.title}},C=O.parent!==O.self,e="data ready thumbnail loadstart loadfinish image play pause progress fullscreen_enter fullscreen_exit idle_enter idle_exit rescale lightbox_open lightbox_close lightbox_image",f=(function(){var F=[];a.each(e.split(" "),function(P,M){F.push(M);if(/_/.test(M)){F.push(M.replace(/_/g,""))}});return F}()),j=function(M){var F;if(typeof M!=="object"){return M}a.each(M,function(P,Q){if(/^[a-z]+_/.test(P)){F="";a.each(P.split("_"),function(R,S){F+=R>0?S.substr(0,1).toUpperCase()+S.substr(1):S});M[F]=Q;delete M[P]}});return M},m=function(F){if(a.inArray(F,f)>-1){return z[F.toUpperCase()]}return F},r={youtube:{reg:/https?:\/\/(?:[a-zA_Z]{2,3}.)?(?:youtube\.com\/watch\?)((?:[\w\d\-\_\=]+&amp;(?:amp;)?)*v(?:&lt;[A-Z]+&gt;)?=([0-9a-zA-Z\-\_]+))/i,embed:function(){return"http://www.youtube.com/embed/"+this.id},getUrl:function(){return G+"//gdata.youtube.com/feeds/api/videos/"+this.id+"?v=2&alt=json-in-script&callback=?"},get_thumb:function(F){return F.entry.media$group.media$thumbnail[2].url},get_image:function(F){if(F.entry.yt$hd){return G+"//img.youtube.com/vi/"+this.id+"/maxresdefault.jpg"}return F.entry.media$group.media$thumbnail[3].url}},vimeo:{reg:/https?:\/\/(?:www\.)?(vimeo\.com)\/(?:hd#)?([0-9]+)/i,embed:function(){return"http://player.vimeo.com/video/"+this.id},getUrl:function(){return G+"//vimeo.com/api/v2/video/"+this.id+".json?callback=?"},get_thumb:function(F){return F[0].thumbnail_medium},get_image:function(F){return F[0].thumbnail_large}},dailymotion:{reg:/https?:\/\/(?:www\.)?(dailymotion\.com)\/video\/([^_]+)/,embed:function(){return G+"//www.dailymotion.com/embed/video/"+this.id},getUrl:function(){return"https://api.dailymotion.com/video/"+this.id+"?fields=thumbnail_240_url,thumbnail_720_url&callback=?"},get_thumb:function(F){return F.thumbnail_240_url},get_image:function(F){return F.thumbnail_720_url}},_inst:[]},N=function(Q,M){for(var F=0;F<r._inst.length;F++){if(r._inst[F].id===M&&r._inst[F].type==Q){return r._inst[F]}}this.type=Q;this.id=M;this.readys=[];r._inst.push(this);var P=this;a.extend(this,r[Q]);a.getJSON(this.getUrl(),function(R){P.data=R;a.each(P.readys,function(T,S){S(P.data)});P.readys=[]});this.getMedia=function(W,R,T){T=T||x;var U=this;var V=function(X){R(U["get_"+W](X))};try{if(U.data){V(U.data)}else{U.readys.push(V)}}catch(S){T()}}},s=function(M){var F;for(var P in r){F=M&&r[P].reg&&M.match(r[P].reg);if(F&&F.length){return{id:F[2],provider:P}}}return false},l={support:(function(){var F=v().html;return !C&&(F.requestFullscreen||F.msRequestFullscreen||F.mozRequestFullScreen||F.webkitRequestFullScreen)}()),callback:x,enter:function(P,F,M){this.instance=P;this.callback=F||x;M=M||v().html;if(M.requestFullscreen){M.requestFullscreen()}else{if(M.msRequestFullscreen){M.msRequestFullscreen()}else{if(M.mozRequestFullScreen){M.mozRequestFullScreen()}else{if(M.webkitRequestFullScreen){M.webkitRequestFullScreen()}}}}},exit:function(F){this.callback=F||x;if(u.exitFullscreen){u.exitFullscreen()}else{if(u.msExitFullscreen){u.msExitFullscreen()}else{if(u.mozCancelFullScreen){u.mozCancelFullScreen()}else{if(u.webkitCancelFullScreen){u.webkitCancelFullScreen()}}}}},instance:null,listen:function(){if(!this.support){return}var F=function(){if(!l.instance){return}var M=l.instance._fullscreen;if(u.fullscreen||u.mozFullScreen||u.webkitIsFullScreen||(u.msFullscreenElement&&u.msFullscreenElement!==null)){M._enter(l.callback)}else{M._exit(l.callback)}};u.addEventListener("fullscreenchange",F,false);u.addEventListener("MSFullscreenChange",F,false);u.addEventListener("mozfullscreenchange",F,false);u.addEventListener("webkitfullscreenchange",F,false)}},g=[],i=[],h=false,d=false,o=[],k=[],p=function(F){k.push(F);a.each(o,function(M,P){if(P._options.theme==F.name||(!P._initialized&&!P._options.theme)){P.theme=F;P._init.call(P)}})},K=(function(){return{clearTimer:function(F){a.each(z.get(),function(){this.clearTimer(F)})},addTimer:function(F){a.each(z.get(),function(){this.addTimer(F)})},array:function(F){return H.slice.call(F,0)},create:function(F,P){P=P||"div";var M=u.createElement(P);M.className=F;return M},removeFromArray:function(F,M){a.each(F,function(Q,P){if(P==M){F.splice(Q,1);return false}});return F},getScriptPath:function(M){M=M||a("script:last").attr("src");var F=M.split("/");if(F.length==1){return""}F.pop();return F.join("/")+"/"},animate:(function(){var Y=(function(ab){var aa="transition WebkitTransition MozTransition OTransition".split(" "),Z;if(O.opera){return false}for(Z=0;aa[Z];Z++){if(typeof ab[aa[Z]]!=="undefined"){return aa[Z]}}return false}((u.body||u.documentElement).style));var S={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[Y];var R={_default:[0.25,0.1,0.25,1],galleria:[0.645,0.045,0.355,1],galleriaIn:[0.55,0.08500000000000001,0.6800000000000001,0.53],galleriaOut:[0.25,0.46,0.45,0.94],ease:[0.25,0,0.25,1],linear:[0.25,0.25,0.75,0.75],"ease-in":[0.42,0,1,1],"ease-out":[0,0,0.58,1],"ease-in-out":[0.42,0,0.58,1]};var V=function(aa,ac,ab){var Z={};ab=ab||"transition";a.each("webkit moz ms o".split(" "),function(){Z["-"+this+"-"+ab]=ac});aa.css(Z)};var M=function(Z){V(Z,"none","transition");if(z.WEBKIT&&z.TOUCH){V(Z,"translate3d(0,0,0)","transform");if(Z.data("revert")){Z.css(Z.data("revert"));Z.data("revert",null)}}};var F,W,Q,X,U,T,P;return function(Z,ab,aa){aa=a.extend({duration:400,complete:x,stop:false},aa);Z=a(Z);if(!aa.duration){Z.css(ab);aa.complete.call(Z[0]);return}if(!Y){Z.animate(ab,aa);return}if(aa.stop){Z.off(S);M(Z)}F=false;a.each(ab,function(ac,ad){P=Z.css(ac);if(K.parseValue(P)!=K.parseValue(ad)){F=true}Z.css(ac,P)});if(!F){O.setTimeout(function(){aa.complete.call(Z[0])},aa.duration);return}W=[];Q=aa.easing in R?R[aa.easing]:R._default;X=" "+aa.duration+"ms cubic-bezier("+Q.join(",")+")";O.setTimeout((function(ac,ad,af,ae){return function(){ac.one(ad,(function(ag){return function(){M(ag);aa.complete.call(ag[0])}}(ac)));if(z.WEBKIT&&z.TOUCH){U={};T=[0,0,0];a.each(["left","top"],function(ag,ah){if(ah in af){T[ag]=(K.parseValue(af[ah])-K.parseValue(ac.css(ah)))+"px";U[ah]=af[ah];delete af[ah]}});if(T[0]||T[1]){ac.data("revert",U);W.push("-webkit-transform"+ae);V(ac,"translate3d("+T.join(",")+")","transform")}}a.each(af,function(ag,ah){W.push(ag+ae)});V(ac,W.join(","));ac.css(af)}}(Z,S,ab,X)),2)}}()),removeAlpha:function(M){if(M instanceof jQuery){M=M[0]}if(B<9&&M){var Q=M.style,F=M.currentStyle,P=F&&F.filter||Q.filter||"";if(/alpha/.test(P)){Q.filter=P.replace(/alpha\([^)]*\)/i,"")}}},forceStyles:function(F,M){F=a(F);if(F.attr("style")){F.data("styles",F.attr("style")).removeAttr("style")}F.css(M)},revertStyles:function(){a.each(K.array(arguments),function(M,F){F=a(F);F.removeAttr("style");F.attr("style","");if(F.data("styles")){F.attr("style",F.data("styles")).data("styles",null)}})},moveOut:function(F){K.forceStyles(F,{position:"absolute",left:-10000})},moveIn:function(){K.revertStyles.apply(K,K.array(arguments))},hide:function(Q,R,M){M=M||x;var F=a(Q);Q=F[0];if(!F.data("opacity")){F.data("opacity",F.css("opacity"))}var S={opacity:0};if(R){var P=B<9&&Q?function(){K.removeAlpha(Q);Q.style.visibility="hidden";M.call(Q)}:M;K.animate(Q,S,{duration:R,complete:P,stop:true})}else{if(B<9&&Q){K.removeAlpha(Q);Q.style.visibility="hidden"}else{F.css(S)}}},show:function(Q,S,M){M=M||x;var F=a(Q);Q=F[0];var R=parseFloat(F.data("opacity"))||1,T={opacity:R};if(S){if(B<9){F.css("opacity",0);Q.style.visibility="visible"}var P=B<9&&Q?function(){if(T.opacity==1){K.removeAlpha(Q)}M.call(Q)}:M;K.animate(Q,T,{duration:S,complete:P,stop:true})}else{if(B<9&&T.opacity==1&&Q){K.removeAlpha(Q);Q.style.visibility="visible"}else{F.css(T)}}},wait:function(Q){z._waiters=z._waiters||[];Q=a.extend({until:y,success:x,error:function(){z.raise("Could not complete wait function.")},timeout:3000},Q);var R=K.timestamp(),F,P,S,M=function(){P=K.timestamp();F=P-R;K.removeFromArray(z._waiters,S);if(Q.until(F)){Q.success();return false}if(typeof Q.timeout=="number"&&P>=R+Q.timeout){Q.error();return false}z._waiters.push(S=O.setTimeout(M,10))};z._waiters.push(S=O.setTimeout(M,10))},toggleQuality:function(M,F){if((B!==7&&B!==8)||!M||M.nodeName.toUpperCase()!="IMG"){return}if(typeof F==="undefined"){F=M.style.msInterpolationMode==="nearest-neighbor"}M.style.msInterpolationMode=F?"bicubic":"nearest-neighbor"},insertStyleTag:function(Q,M){if(M&&a("#"+M).length){return}var P=u.createElement("style");if(M){P.id=M}v().head.appendChild(P);if(P.styleSheet){P.styleSheet.cssText=Q}else{var F=u.createTextNode(Q);P.appendChild(F)}},loadScript:function(Q,F){var M=false,P=a("<script>").attr({src:Q,async:true}).get(0);P.onload=P.onreadystatechange=function(){if(!M&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){M=true;P.onload=P.onreadystatechange=null;if(typeof F==="function"){F.call(this,this)}}};v().head.appendChild(P)},parseValue:function(M){if(typeof M==="number"){return M}else{if(typeof M==="string"){var F=M.match(/\-?\d|\./g);return F&&F.constructor===Array?F.join("")*1:0}else{return 0}}},timestamp:function(){return new Date().getTime()},loadCSS:function(P,Q,M){var S,R;a("link[rel=stylesheet]").each(function(){if(new RegExp(P).test(this.href)){S=this;return false}});if(typeof Q==="function"){M=Q;Q=J}M=M||x;if(S){M.call(S,S);return S}R=u.styleSheets.length;if(a("#"+Q).length){a("#"+Q).attr("href",P);R--}else{S=a("<link>").attr({rel:"stylesheet",href:P,id:Q}).get(0);var T=a('link[rel="stylesheet"], style');if(T.length){T.get(0).parentNode.insertBefore(S,T[0])}else{v().head.appendChild(S)}if(B&&R>=31){z.raise("You have reached the browser stylesheet limit (31)",true);return}}if(typeof M==="function"){var F=a("<s>").attr("id","galleria-loader").hide().appendTo(v().body);K.wait({until:function(){return F.height()==1},success:function(){F.remove();M.call(S,S)},error:function(){F.remove();z.raise("Theme CSS could not load after 20 sec. "+(z.QUIRK?"Your browser is in Quirks Mode, please add a correct doctype.":"Please download the latest theme at http://galleria.io/customer/."),true)},timeout:5000})}return S}}}()),n=function(F){var M=".galleria-videoicon{width:60px;height:60px;position:absolute;top:50%;left:50%;z-index:1;margin:-30px 0 0 -30px;cursor:pointer;background:#000;background:rgba(0,0,0,.8);border-radius:3px;-webkit-transition:all 150ms}.galleria-videoicon i{width:0px;height:0px;border-style:solid;border-width:10px 0 10px 16px;display:block;border-color:transparent transparent transparent #ffffff;margin:20px 0 0 22px}.galleria-image:hover .galleria-videoicon{background:#000}";K.insertStyleTag(M,"galleria-videoicon");return a(K.create("galleria-videoicon")).html("<i></i>").appendTo(F).click(function(){a(this).siblings("img").mouseup()})},q=(function(){var F=function(U,M,S,Q){var R=this.getOptions("easing"),P=this.getStageWidth(),T={left:P*(U.rewind?-1:1)},V={left:0};if(S){T.opacity=0;V.opacity=1}else{T.opacity=1}a(U.next).css(T);K.animate(U.next,V,{duration:U.speed,complete:(function(W){return function(){M();W.css({left:0})}}(a(U.next).add(U.prev))),queue:false,easing:R});if(Q){U.rewind=!U.rewind}if(U.prev){T={left:0};V={left:P*(U.rewind?1:-1)};if(S){T.opacity=1;V.opacity=0}a(U.prev).css(T);K.animate(U.prev,V,{duration:U.speed,queue:false,easing:R,complete:function(){a(this).css("opacity",0)}})}};return{active:false,init:function(P,Q,M){if(q.effects.hasOwnProperty(P)){q.effects[P].call(this,Q,M)}},effects:{fade:function(P,M){a(P.next).css({opacity:0,left:0});K.animate(P.next,{opacity:1},{duration:P.speed,complete:M});if(P.prev){a(P.prev).css("opacity",1).show();K.animate(P.prev,{opacity:0},{duration:P.speed})}},flash:function(P,M){a(P.next).css({opacity:0,left:0});if(P.prev){K.animate(P.prev,{opacity:0},{duration:P.speed/2,complete:function(){K.animate(P.next,{opacity:1},{duration:P.speed,complete:M})}})}else{K.animate(P.next,{opacity:1},{duration:P.speed,complete:M})}},pulse:function(P,M){if(P.prev){a(P.prev).hide()}a(P.next).css({opacity:0,left:0}).show();K.animate(P.next,{opacity:1},{duration:P.speed,complete:M})},slide:function(P,M){F.apply(this,K.array(arguments))},fadeslide:function(P,M){F.apply(this,K.array(arguments).concat([true]))},doorslide:function(P,M){F.apply(this,K.array(arguments).concat([false,true]))}}}}());l.listen();a.event.special["click:fast"]={propagate:true,add:function(P){var M=function(Q){if(Q.touches&&Q.touches.length){var R=Q.touches[0];return{x:R.pageX,y:R.pageY}}};var F={touched:false,touchdown:false,coords:{x:0,y:0},evObj:{}};a(this).data({clickstate:F,timer:0}).on("touchstart.fast",function(Q){O.clearTimeout(a(this).data("timer"));a(this).data("clickstate",{touched:true,touchdown:true,coords:M(Q.originalEvent),evObj:Q})}).on("touchmove.fast",function(S){var Q=M(S.originalEvent),T=a(this).data("clickstate"),R=Math.max(Math.abs(T.coords.x-Q.x),Math.abs(T.coords.y-Q.y));if(R>6){a(this).data("clickstate",a.extend(T,{touchdown:false}))}}).on("touchend.fast",function(R){var Q=a(this),S=Q.data("clickstate");if(S.touchdown){P.handler.call(this,R)}Q.data("timer",O.setTimeout(function(){Q.data("clickstate",F)},400))}).on("click.fast",function(Q){var R=a(this).data("clickstate");if(R.touched){return false}a(this).data("clickstate",F);P.handler.call(this,Q)})},remove:function(){a(this).off("touchstart.fast touchmove.fast touchend.fast click.fast")}};c.on("orientationchange",function(){a(this).resize()});z=function(){var V=this;this._options={};this._playing=false;this._playtime=5000;this._active=null;this._queue={length:0};this._data=[];this._dom={};this._thumbnails=[];this._layers=[];this._initialized=false;this._firstrun=false;this._stageWidth=0;this._stageHeight=0;this._target=J;this._binds=[];this._id=parseInt(D.random()*10000,10);var Q="container stage images image-nav image-nav-left image-nav-right info info-text info-title info-description thumbnails thumbnails-list thumbnails-container thumb-nav-left thumb-nav-right loader counter tooltip",W="current total";a.each(Q.split(" "),function(Z,Y){V._dom[Y]=K.create("galleria-"+Y)});a.each(W.split(" "),function(Z,Y){V._dom[Y]=K.create("galleria-"+Y,"span")});var T=this._keyboard={keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39,RETURN:13,ESCAPE:27,BACKSPACE:8,SPACE:32},map:{},bound:false,press:function(Y){var Z=Y.keyCode||Y.which;if(Z in T.map&&typeof T.map[Z]==="function"){T.map[Z].call(V,Y)}},attach:function(Z){var Y,aa;for(Y in Z){if(Z.hasOwnProperty(Y)){aa=Y.toUpperCase();if(aa in T.keys){T.map[T.keys[aa]]=Z[Y]}else{T.map[aa]=Z[Y]}}}if(!T.bound){T.bound=true;b.on("keydown",T.press)}},detach:function(){T.bound=false;T.map={};b.off("keydown",T.press)}};var P=this._controls={0:J,1:J,active:0,swap:function(){P.active=P.active?0:1},getActive:function(){return V._options.swipe?P.slides[V._active]:P[P.active]},getNext:function(){return V._options.swipe?P.slides[V.getNext(V._active)]:P[1-P.active]},slides:[],frames:[],layers:[]};var M=this._carousel={next:V.$("thumb-nav-right"),prev:V.$("thumb-nav-left"),width:0,current:0,max:0,hooks:[],update:function(){var aa=0,Y=0,Z=[0];a.each(V._thumbnails,function(ac,ad){if(ad.ready){aa+=ad.outerWidth||a(ad.container).outerWidth(true);var ab=a(ad.container).width();aa+=ab-D.floor(ab);Z[ac+1]=aa;Y=D.max(Y,ad.outerHeight||a(ad.container).outerHeight(true))}});V.$("thumbnails").css({width:aa,height:Y});M.max=aa;M.hooks=Z;M.width=V.$("thumbnails-list").width();M.setClasses();V.$("thumbnails-container").toggleClass("galleria-carousel",aa>M.width);M.width=V.$("thumbnails-list").width()},bindControls:function(){var Y;M.next.on("click:fast",function(Z){Z.preventDefault();if(V._options.carouselSteps==="auto"){for(Y=M.current;Y<M.hooks.length;Y++){if(M.hooks[Y]-M.hooks[M.current]>M.width){M.set(Y-2);break}}}else{M.set(M.current+V._options.carouselSteps)}});M.prev.on("click:fast",function(Z){Z.preventDefault();if(V._options.carouselSteps==="auto"){for(Y=M.current;Y>=0;Y--){if(M.hooks[M.current]-M.hooks[Y]>M.width){M.set(Y+2);break}else{if(Y===0){M.set(0);break}}}}else{M.set(M.current-V._options.carouselSteps)}})},set:function(Y){Y=D.max(Y,0);while(M.hooks[Y-1]+M.width>=M.max&&Y>=0){Y--}M.current=Y;M.animate()},getLast:function(Y){return(Y||M.current)-1},follow:function(Y){if(Y===0||Y===M.hooks.length-2){M.set(Y);return}var Z=M.current;while(M.hooks[Z]-M.hooks[M.current]<M.width&&Z<=M.hooks.length){Z++}if(Y-1<M.current){M.set(Y-1)}else{if(Y+2>Z){M.set(Y-Z+M.current+2)}}},setClasses:function(){M.prev.toggleClass("disabled",!M.current);M.next.toggleClass("disabled",M.hooks[M.current]+M.width>=M.max)},animate:function(Z){M.setClasses();var Y=M.hooks[M.current]*-1;if(isNaN(Y)){return}V.$("thumbnails").css("left",function(){return a(this).css("left")});K.animate(V.get("thumbnails"),{left:Y},{duration:V._options.carouselSpeed,easing:V._options.easing,queue:false})}};var X=this._tooltip={initialized:false,open:false,timer:"tooltip"+V._id,swapTimer:"swap"+V._id,init:function(){X.initialized=true;var Y=".galleria-tooltip{padding:3px 8px;max-width:50%;background:#ffe;color:#000;z-index:3;position:absolute;font-size:11px;line-height:1.3;opacity:0;box-shadow:0 0 2px rgba(0,0,0,.4);-moz-box-shadow:0 0 2px rgba(0,0,0,.4);-webkit-box-shadow:0 0 2px rgba(0,0,0,.4);}";K.insertStyleTag(Y,"galleria-tooltip");V.$("tooltip").css({opacity:0.8,visibility:"visible",display:"none"})},move:function(Z){var ae=V.getMousePosition(Z).x,af=V.getMousePosition(Z).y,Y=V.$("tooltip"),ah=ae,ai=af,aa=Y.outerHeight(true)+1,ag=Y.outerWidth(true),ab=aa+15;var ac=V.$("container").width()-ag-2,ad=V.$("container").height()-aa-2;if(!isNaN(ah)&&!isNaN(ai)){ah+=10;ai-=(aa+8);ah=D.max(0,D.min(ac,ah));ai=D.max(0,D.min(ad,ai));if(af<ab){ai=ab}Y.css({left:ah,top:ai})}},bind:function(Y,ab){if(z.TOUCH){return}if(!X.initialized){X.init()}var aa=function(){V.$("container").off("mousemove",X.move);V.clearTimer(X.timer);V.$("tooltip").stop().animate({opacity:0},200,function(){V.$("tooltip").hide();V.addTimer(X.swapTimer,function(){X.open=false},1000)})};var Z=function(ac,ad){X.define(ac,ad);a(ac).hover(function(){V.clearTimer(X.swapTimer);V.$("container").off("mousemove",X.move).on("mousemove",X.move).trigger("mousemove");X.show(ac);V.addTimer(X.timer,function(){V.$("tooltip").stop().show().animate({opacity:1});X.open=true},X.open?0:500)},aa).click(aa)};if(typeof ab==="string"){Z((Y in V._dom?V.get(Y):Y),ab)}else{a.each(Y,function(ac,ad){Z(V.get(ac),ad)})}},show:function(Y){Y=a(Y in V._dom?V.get(Y):Y);var aa=Y.data("tt"),Z=function(ab){O.setTimeout((function(ac){return function(){X.move(ac)}}(ab)),10);Y.off("mouseup",Z)};aa=typeof aa==="function"?aa():aa;if(!aa){return}V.$("tooltip").html(aa.replace(/\s/,"&#160;"));Y.on("mouseup",Z)},define:function(Y,aa){if(typeof aa!=="function"){var Z=aa;aa=function(){return Z}}Y=a(Y in V._dom?V.get(Y):Y).data("tt",aa);X.show(Y)}};var R=this._fullscreen={scrolled:0,crop:J,active:false,prev:a(),beforeEnter:function(Y){Y()},beforeExit:function(Y){Y()},keymap:V._keyboard.map,parseCallback:function(Y,Z){return q.active?function(){if(typeof Y=="function"){Y.call(V)}var aa=V._controls.getActive(),ab=V._controls.getNext();V._scaleImage(ab);V._scaleImage(aa);if(Z&&V._options.trueFullscreen){a(aa.container).add(ab.container).trigger("transitionend")}}:Y},enter:function(Y){R.beforeEnter(function(){Y=R.parseCallback(Y,true);if(V._options.trueFullscreen&&l.support){R.active=true;K.forceStyles(V.get("container"),{width:"100%",height:"100%"});V.rescale();if(z.MAC){if(!(z.SAFARI&&/version\/[1-5]/.test(E))){V.$("container").css("opacity",0).addClass("fullscreen");O.setTimeout(function(){R.scale();V.$("container").css("opacity",1)},50)}else{V.$("stage").css("opacity",0);O.setTimeout(function(){R.scale();V.$("stage").css("opacity",1)},4)}}else{V.$("container").addClass("fullscreen")}c.resize(R.scale);l.enter(V,Y,V.get("container"))}else{R.scrolled=c.scrollTop();if(!z.TOUCH){O.scrollTo(0,0)}R._enter(Y)}})},_enter:function(aa){R.active=true;if(C){R.iframe=(function(){var ak,am=u.referrer,an=u.createElement("a"),al=O.location;an.href=am;if(an.protocol!=al.protocol||an.hostname!=al.hostname||an.port!=al.port){z.raise("Parent fullscreen not available. Iframe protocol, domains and ports must match.");return false}R.pd=O.parent.document;a(R.pd).find("iframe").each(function(){var ao=this.contentDocument||this.contentWindow.document;if(ao===u){ak=this;return false}});return ak}())}K.hide(V.getActiveImage());if(C&&R.iframe){R.iframe.scrolled=a(O.parent).scrollTop();O.parent.scrollTo(0,0)}var ab=V.getData(),ah=V._options,ad=!V._options.trueFullscreen||!l.support,ac={height:"100%",overflow:"hidden",margin:0,padding:0};if(ad){V.$("container").addClass("fullscreen");R.prev=V.$("container").prev();if(!R.prev.length){R.parent=V.$("container").parent()}V.$("container").appendTo("body");K.forceStyles(V.get("container"),{position:z.TOUCH?"absolute":"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10000});K.forceStyles(v().html,ac);K.forceStyles(v().body,ac)}if(C&&R.iframe){K.forceStyles(R.pd.documentElement,ac);K.forceStyles(R.pd.body,ac);K.forceStyles(R.iframe,a.extend(ac,{width:"100%",height:"100%",top:0,left:0,position:"fixed",zIndex:10000,border:"none"}))}R.keymap=a.extend({},V._keyboard.map);V.attachKeyboard({escape:V.exitFullscreen,right:V.next,left:V.prev});R.crop=ah.imageCrop;if(ah.fullscreenCrop!=J){ah.imageCrop=ah.fullscreenCrop}if(ab&&ab.big&&ab.image!==ab.big){var Y=new z.Picture(),Z=Y.isCached(ab.big),ae=V.getIndex(),aj=V._thumbnails[ae];V.trigger({type:z.LOADSTART,cached:Z,rewind:false,index:ae,imageTarget:V.getActiveImage(),thumbTarget:aj,galleriaData:ab});Y.load(ab.big,function(ak){V._scaleImage(ak,{complete:function(al){V.trigger({type:z.LOADFINISH,cached:Z,index:ae,rewind:false,imageTarget:al.image,thumbTarget:aj});var am=V._controls.getActive().image;if(am){a(am).width(al.image.width).height(al.image.height).attr("style",a(al.image).attr("style")).attr("src",al.image.src)}}})});var af=V.getNext(ae),ai=new z.Picture(),ag=V.getData(af);ai.preload(V.isFullscreen()&&ag.big?ag.big:ag.image)}V.rescale(function(){V.addTimer(false,function(){if(ad){K.show(V.getActiveImage())}if(typeof aa==="function"){aa.call(V)}V.rescale()},100);V.trigger(z.FULLSCREEN_ENTER)});if(!ad){K.show(V.getActiveImage())}else{c.resize(R.scale)}},scale:function(){V.rescale()},exit:function(Y){R.beforeExit(function(){Y=R.parseCallback(Y);if(V._options.trueFullscreen&&l.support){l.exit(Y)}else{R._exit(Y)}})},_exit:function(aa){R.active=false;var ad=!V._options.trueFullscreen||!l.support,Y=V.$("container").removeClass("fullscreen");if(R.parent){R.parent.prepend(Y)}else{Y.insertAfter(R.prev)}if(ad){K.hide(V.getActiveImage());K.revertStyles(V.get("container"),v().html,v().body);if(!z.TOUCH){O.scrollTo(0,R.scrolled)}var ab=V._controls.frames[V._controls.active];if(ab&&ab.image){ab.image.src=ab.image.src}}if(C&&R.iframe){K.revertStyles(R.pd.documentElement,R.pd.body,R.iframe);if(R.iframe.scrolled){O.parent.scrollTo(0,R.iframe.scrolled)}}V.detachKeyboard();V.attachKeyboard(R.keymap);V._options.imageCrop=R.crop;var Z=V.getData().big,ac=V._controls.getActive().image;if(!V.getData().iframe&&ac&&Z&&Z==ac.src){O.setTimeout(function(ae){return function(){ac.src=ae}}(V.getData().image),1)}V.rescale(function(){V.addTimer(false,function(){if(ad){K.show(V.getActiveImage())}if(typeof aa==="function"){aa.call(V)}c.trigger("resize")},50);V.trigger(z.FULLSCREEN_EXIT)});c.off("resize",R.scale)}};var S=this._idle={trunk:[],bound:false,active:false,add:function(Y,ad,aa,ab){if(!Y||z.TOUCH){return}if(!S.bound){S.addEvent()}Y=a(Y);if(typeof aa=="boolean"){ab=aa;aa={}}aa=aa||{};var Z={},ac;for(ac in ad){if(ad.hasOwnProperty(ac)){Z[ac]=Y.css(ac)}}Y.data("idle",{from:a.extend(Z,aa),to:ad,complete:true,busy:false});if(!ab){S.addTimer()}else{Y.css(ad)}S.trunk.push(Y)},remove:function(Y){Y=a(Y);a.each(S.trunk,function(aa,Z){if(Z&&Z.length&&!Z.not(Y).length){Y.css(Y.data("idle").from);S.trunk.splice(aa,1)}});if(!S.trunk.length){S.removeEvent();V.clearTimer(S.timer)}},addEvent:function(){S.bound=true;V.$("container").on("mousemove click",S.showAll);if(V._options.idleMode=="hover"){V.$("container").on("mouseleave",S.hide)}},removeEvent:function(){S.bound=false;V.$("container").on("mousemove click",S.showAll);if(V._options.idleMode=="hover"){V.$("container").off("mouseleave",S.hide)}},addTimer:function(){if(V._options.idleMode=="hover"){return}V.addTimer("idle",function(){S.hide()},V._options.idleTime)},hide:function(){if(!V._options.idleMode||V.getIndex()===false){return}V.trigger(z.IDLE_ENTER);var Y=S.trunk.length;a.each(S.trunk,function(ab,aa){var Z=aa.data("idle");if(!Z){return}aa.data("idle").complete=false;K.animate(aa,Z.to,{duration:V._options.idleSpeed,complete:function(){if(ab==Y-1){S.active=false}}})})},showAll:function(){V.clearTimer("idle");a.each(S.trunk,function(Z,Y){S.show(Y)})},show:function(Z){var Y=Z.data("idle");if(!S.active||(!Y.busy&&!Y.complete)){Y.busy=true;V.trigger(z.IDLE_EXIT);V.clearTimer("idle");K.animate(Z,Y.from,{duration:V._options.idleSpeed/2,complete:function(){S.active=true;a(Z).data("idle").busy=false;a(Z).data("idle").complete=true}})}S.addTimer()}};var U=this._lightbox={width:0,height:0,initialized:false,active:null,image:null,elems:{},keymap:false,init:function(){if(U.initialized){return}U.initialized=true;var ad="overlay box content shadow title info close prevholder prev nextholder next counter image",ac={},ag=V._options,aa="",Y="position:absolute;",ah="lightbox-",ab={overlay:"position:fixed;display:none;opacity:"+ag.overlayOpacity+";filter:alpha(opacity="+(ag.overlayOpacity*100)+");top:0;left:0;width:100%;height:100%;background:"+ag.overlayBackground+";z-index:99990",box:"position:fixed;display:none;width:400px;height:400px;top:50%;left:50%;margin-top:-200px;margin-left:-200px;z-index:99991",shadow:Y+"background:#000;width:100%;height:100%;",content:Y+"background-color:#fff;top:10px;left:10px;right:10px;bottom:10px;overflow:hidden",info:Y+"bottom:10px;left:10px;right:10px;color:#444;font:11px/13px arial,sans-serif;height:13px",close:Y+"top:10px;right:10px;height:20px;width:20px;background:#fff;text-align:center;cursor:pointer;color:#444;font:16px/22px arial,sans-serif;z-index:99999",image:Y+"top:10px;left:10px;right:10px;bottom:30px;overflow:hidden;display:block;",prevholder:Y+"width:50%;top:0;bottom:40px;cursor:pointer;",nextholder:Y+"width:50%;top:0;bottom:40px;right:-1px;cursor:pointer;",prev:Y+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;left:20px;display:none;text-align:center;color:#000;font:bold 16px/36px arial,sans-serif",next:Y+"top:50%;margin-top:-20px;height:40px;width:30px;background:#fff;right:20px;left:auto;display:none;font:bold 16px/36px arial,sans-serif;text-align:center;color:#000",title:"float:left",counter:"float:right;margin-left:8px;"},af=function(ai){return ai.hover(function(){a(this).css("color","#bbb")},function(){a(this).css("color","#444")})},Z={};var ae="";if(B>7){ae=B<9?"background:#000;filter:alpha(opacity=0);":"background:rgba(0,0,0,0);"}else{ae="z-index:99999"}ab.nextholder+=ae;ab.prevholder+=ae;a.each(ab,function(ai,aj){aa+=".galleria-"+ah+ai+"{"+aj+"}"});aa+=".galleria-"+ah+"box.iframe .galleria-"+ah+"prevholder,.galleria-"+ah+"box.iframe .galleria-"+ah+"nextholder{width:100px;height:100px;top:50%;margin-top:-70px}";K.insertStyleTag(aa,"galleria-lightbox");a.each(ad.split(" "),function(aj,ai){V.addElement("lightbox-"+ai);ac[ai]=U.elems[ai]=V.get("lightbox-"+ai)});U.image=new z.Picture();a.each({box:"shadow content close prevholder nextholder",info:"title counter",content:"info image",prevholder:"prev",nextholder:"next"},function(aj,ak){var ai=[];a.each(ak.split(" "),function(al,am){ai.push(ah+am)});Z[ah+aj]=ai});V.append(Z);a(ac.image).append(U.image.container);a(v().body).append(ac.overlay,ac.box);af(a(ac.close).on("click:fast",U.hide).html("&#215;"));a.each(["Prev","Next"],function(al,ak){var ai=a(ac[ak.toLowerCase()]).html(/v/.test(ak)?"&#8249;&#160;":"&#160;&#8250;"),aj=a(ac[ak.toLowerCase()+"holder"]);aj.on("click:fast",function(){U["show"+ak]()});if(B<8||z.TOUCH){ai.show();return}aj.hover(function(){ai.show()},function(am){ai.stop().fadeOut(200)})});a(ac.overlay).on("click:fast",U.hide);if(z.IPAD){V._options.lightboxTransitionSpeed=0}},rescale:function(aa){var ae=D.min(c.width()-40,U.width),ab=D.min(c.height()-60,U.height),ac=D.min(ae/U.width,ab/U.height),Z=D.round(U.width*ac)+40,Y=D.round(U.height*ac)+60,ad={width:Z,height:Y,"margin-top":D.ceil(Y/2)*-1,"margin-left":D.ceil(Z/2)*-1};if(aa){a(U.elems.box).css(ad)}else{a(U.elems.box).animate(ad,{duration:V._options.lightboxTransitionSpeed,easing:V._options.easing,complete:function(){var af=U.image,ag=V._options.lightboxFadeSpeed;V.trigger({type:z.LIGHTBOX_IMAGE,imageTarget:af.image});a(af.container).show();a(af.image).animate({opacity:1},ag);K.show(U.elems.info,ag)}})}},hide:function(){U.image.image=null;c.off("resize",U.rescale);a(U.elems.box).hide().find("iframe").remove();K.hide(U.elems.info);V.detachKeyboard();V.attachKeyboard(U.keymap);U.keymap=false;K.hide(U.elems.overlay,200,function(){a(this).hide().css("opacity",V._options.overlayOpacity);V.trigger(z.LIGHTBOX_CLOSE)})},showNext:function(){U.show(V.getNext(U.active))},showPrev:function(){U.show(V.getPrev(U.active))},show:function(ab){U.active=ab=typeof ab==="number"?ab:V.getIndex()||0;if(!U.initialized){U.init()}V.trigger(z.LIGHTBOX_OPEN);if(!U.keymap){U.keymap=a.extend({},V._keyboard.map);V.attachKeyboard({escape:U.hide,right:U.showNext,left:U.showPrev})}c.off("resize",U.rescale);var Y=V.getData(ab),af=V.getDataLength(),ac=V.getNext(ab),ad,ae,aa;K.hide(U.elems.info);try{for(aa=V._options.preload;aa>0;aa--){ae=new z.Picture();ad=V.getData(ac);ae.preload(ad.big?ad.big:ad.image);ac=V.getNext(ac)}}catch(Z){}U.image.isIframe=(Y.iframe&&!Y.image);a(U.elems.box).toggleClass("iframe",U.image.isIframe);a(U.image.container).find(".galleria-videoicon").remove();U.image.load(Y.big||Y.image||Y.iframe,function(aj){if(aj.isIframe){var ai=a(O).width(),ah=a(O).height();if(aj.video&&V._options.maxVideoSize){var ak=D.min(V._options.maxVideoSize/ai,V._options.maxVideoSize/ah);if(ak<1){ai*=ak;ah*=ak}}U.width=ai;U.height=ah}else{U.width=aj.original.width;U.height=aj.original.height}a(aj.image).css({width:aj.isIframe?"100%":"100.1%",height:aj.isIframe?"100%":"100.1%",top:0,bottom:0,zIndex:99998,opacity:0,visibility:"visible"}).parent().height("100%");U.elems.title.innerHTML=Y.title||"";U.elems.counter.innerHTML=(ab+1)+" / "+af;c.resize(U.rescale);U.rescale();if(Y.image&&Y.iframe){a(U.elems.box).addClass("iframe");if(Y.video){var ag=n(aj.container).hide();O.setTimeout(function(){ag.fadeIn(200)},200)}a(aj.image).css("cursor","pointer").mouseup((function(al,am){return function(an){a(U.image.container).find(".galleria-videoicon").remove();an.preventDefault();am.isIframe=true;am.load(al.iframe+(al.video?"&autoplay=1":""),{width:"100%",height:B<8?a(U.image.container).height():"100%"})}}(Y,aj)))}});a(U.elems.overlay).show().css("visibility","visible");a(U.elems.box).show()}};var F=this._timer={trunk:{},add:function(aa,Z,Y,ab){aa=aa||new Date().getTime();ab=ab||false;this.clear(aa);if(ab){var ac=Z;Z=function(){ac();F.add(aa,Z,Y)}}this.trunk[aa]=O.setTimeout(Z,Y)},clear:function(aa){var Y=function(ab){O.clearTimeout(this.trunk[ab]);delete this.trunk[ab]},Z;if(!!aa&&aa in this.trunk){Y.call(this,aa)}else{if(typeof aa==="undefined"){for(Z in this.trunk){if(this.trunk.hasOwnProperty(Z)){Y.call(this,Z)}}}}}};return this};z.prototype={constructor:z,init:function(P,M){M=j(M);this._original={target:P,options:M,data:null};this._target=this._dom.target=P.nodeName?P:a(P).get(0);this._original.html=this._target.innerHTML;i.push(this);if(!this._target){z.raise("Target not found",true);return}this._options={autoplay:false,carousel:true,carouselFollow:true,carouselSpeed:400,carouselSteps:"auto",clicknext:false,dailymotion:{foreground:"%23EEEEEE",highlight:"%235BCEC5",background:"%23222222",logo:0,hideInfos:1},dataConfig:function(Q){return{}},dataSelector:"img",dataSort:false,dataSource:this._target,debug:J,dummy:J,easing:"galleria",extend:function(Q){},fullscreenCrop:J,fullscreenDoubleTap:true,fullscreenTransition:J,height:0,idleMode:true,idleTime:3000,idleSpeed:200,imageCrop:false,imageMargin:0,imagePan:false,imagePanSmoothness:12,imagePosition:"50%",imageTimeout:J,initialTransition:J,keepSource:false,layerFollow:true,lightbox:false,lightboxFadeSpeed:200,lightboxTransitionSpeed:200,linkSourceImages:true,maxScaleRatio:J,maxVideoSize:J,minScaleRatio:J,overlayOpacity:0.85,overlayBackground:"#0b0b0b",pauseOnInteraction:true,popupLinks:false,preload:2,queue:true,responsive:true,show:0,showInfo:true,showCounter:true,showImagenav:true,swipe:"auto",theme:null,thumbCrop:true,thumbEventType:"click:fast",thumbMargin:0,thumbQuality:"auto",thumbDisplayOrder:true,thumbPosition:"50%",thumbnails:true,touchTransition:J,transition:"fade",transitionInitial:J,transitionSpeed:400,trueFullscreen:true,useCanvas:false,variation:"",videoPoster:true,vimeo:{title:0,byline:0,portrait:0,color:"aaaaaa"},wait:5000,width:"auto",youtube:{modestbranding:1,autohide:1,color:"white",hd:1,rel:0,showinfo:0}};this._options.initialTransition=this._options.initialTransition||this._options.transitionInitial;if(M){if(M.debug===false){t=false}if(typeof M.imageTimeout==="number"){I=M.imageTimeout}if(typeof M.dummy==="string"){w=M.dummy}if(typeof M.theme=="string"){this._options.theme=M.theme}}a(this._target).children().hide();if(z.QUIRK){z.raise("Your page is in Quirks mode, Galleria may not render correctly. Please validate your HTML and add a correct doctype.")}if(k.length){if(this._options.theme){for(var F=0;F<k.length;F++){if(this._options.theme===k[F].name){this.theme=k[F];break}}}else{this.theme=k[0]}}if(typeof this.theme=="object"){this._init()}else{o.push(this)}return this},_init:function(){var P=this,M=this._options;if(this._initialized){z.raise("Init failed: Gallery instance already initialized.");return this}this._initialized=true;if(!this.theme){z.raise("Init failed: No theme found.",true);return this}a.extend(true,M,this.theme.defaults,this._original.options,z.configure.options);M.swipe=(function(R){if(R=="enforced"){return true}if(R===false||R=="disabled"){return false}return !!z.TOUCH}(M.swipe));if(M.swipe){M.clicknext=false;M.imagePan=false}(function(R){if(!("getContext" in R)){R=null;return}d=d||{elem:R,context:R.getContext("2d"),cache:{},length:0}}(u.createElement("canvas")));this.bind(z.DATA,function(){if(O.screen&&O.screen.width&&Array.prototype.forEach){this._data.forEach(function(U){var V="devicePixelRatio" in O?O.devicePixelRatio:1,W=D.max(O.screen.width,O.screen.height);if(W*V<1024){U.big=U.image}})}this._original.data=this._data;this.get("total").innerHTML=this.getDataLength();var R=this.$("container");if(P._options.height<2){P._userRatio=P._ratio=P._options.height}var S={width:0,height:0};var T=function(){return P.$("stage").height()};K.wait({until:function(){S=P._getWH();R.width(S.width).height(S.height);return T()&&S.width&&S.height>50},success:function(){P._width=S.width;P._height=S.height;P._ratio=P._ratio||S.height/S.width;if(z.WEBKIT){O.setTimeout(function(){P._run()},1)}else{P._run()}},error:function(){if(T()){z.raise("Could not extract sufficient width/height of the gallery container. Traced measures: width:"+S.width+"px, height: "+S.height+"px.",true)}else{z.raise("Could not extract a stage height from the CSS. Traced height: "+T()+"px.",true)}},timeout:typeof this._options.wait=="number"?this._options.wait:false})});this.append({"info-text":["info-title","info-description"],info:["info-text"],"image-nav":["image-nav-right","image-nav-left"],stage:["images","loader","counter","image-nav"],"thumbnails-list":["thumbnails"],"thumbnails-container":["thumb-nav-left","thumbnails-list","thumb-nav-right"],container:["stage","thumbnails-container","info","tooltip"]});K.hide(this.$("counter").append(this.get("current"),u.createTextNode(" / "),this.get("total")));this.setCounter("&#8211;");K.hide(P.get("tooltip"));this.$("container").addClass([(z.TOUCH?"touch":"notouch"),this._options.variation,"galleria-theme-"+this.theme.name].join(" "));if(!this._options.swipe){a.each(new Array(2),function(S){var T=new z.Picture();a(T.container).css({position:"absolute",top:0,left:0}).prepend(P._layers[S]=a(K.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]);P.$("images").append(T.container);P._controls[S]=T;var R=new z.Picture();R.isIframe=true;a(R.container).attr("class","galleria-frame").css({position:"absolute",top:0,left:0,zIndex:4,background:"#000",display:"none"}).appendTo(T.container);P._controls.frames[S]=R})}this.$("images").css({position:"relative",top:0,left:0,width:"100%",height:"100%"});if(M.swipe){this.$("images").css({position:"absolute",top:0,left:0,width:0,height:"100%"});this.finger=new z.Finger(this.get("stage"),{onchange:function(R){P.pause().show(R)},oncomplete:function(T){var S=D.max(0,D.min(parseInt(T,10),P.getDataLength()-1)),R=P.getData(S);a(P._thumbnails[S].container).addClass("active").siblings(".active").removeClass("active");if(!R){return}P.$("images").find(".galleria-frame").css("opacity",0).hide().find("iframe").remove();if(P._options.carousel&&P._options.carouselFollow){P._carousel.follow(S)}}});this.bind(z.RESCALE,function(){this.finger.setup()});this.$("stage").on("click",function(S){var R=P.getData();if(!R){return}if(R.iframe){if(P.isPlaying()){P.pause()}var T=P._controls.frames[P._active],V=P._stageWidth,U=P._stageHeight;if(a(T.container).find("iframe").length){return}a(T.container).css({width:V,height:U,opacity:0}).show().animate({opacity:1},200);O.setTimeout(function(){T.load(R.iframe+(R.video?"&autoplay=1":""),{width:V,height:U},function(X){P.$("container").addClass("videoplay");X.scale({width:P._stageWidth,height:P._stageHeight,iframelimit:R.video?P._options.maxVideoSize:J})})},100);return}if(R.link){if(P._options.popupLinks){var W=O.open(R.link,"_blank")}else{O.location.href=R.link}}});this.bind(z.IMAGE,function(R){P.setCounter(R.index);P.setInfo(R.index);var T=this.getNext(),V=this.getPrev();var U=[V,T];U.push(this.getNext(T),this.getPrev(V),P._controls.slides.length-1);var S=[];a.each(U,function(W,X){if(a.inArray(X,S)==-1){S.push(X)}});a.each(S,function(X,Z){var W=P.getData(Z),Y=P._controls.slides[Z],aa=P.isFullscreen()&&W.big?W.big:(W.image||W.iframe);if(W.iframe&&!W.image){Y.isIframe=true}if(!Y.ready){P._controls.slides[Z].load(aa,function(ab){if(!ab.isIframe){a(ab.image).css("visibility","hidden")}P._scaleImage(ab,{complete:function(ac){if(!ac.isIframe){a(ac.image).css({opacity:0,visibility:"visible"}).animate({opacity:1},200)}}})})}})})}this.$("thumbnails, thumbnails-list").css({overflow:"hidden",position:"relative"});this.$("image-nav-right, image-nav-left").on("click:fast",function(R){if(M.pauseOnInteraction){P.pause()}var S=/right/.test(this.className)?"next":"prev";P[S]()}).on("click",function(R){R.preventDefault();if(M.clicknext||M.swipe){R.stopPropagation()}});a.each(["info","counter","image-nav"],function(S,R){if(M["show"+R.substr(0,1).toUpperCase()+R.substr(1).replace(/-/,"")]===false){K.moveOut(P.get(R.toLowerCase()))}});this.load();if(!M.keepSource&&!B){this._target.innerHTML=""}if(this.get("errors")){this.appendChild("target","errors")}this.appendChild("target","container");if(M.carousel){var F=0,Q=M.show;this.bind(z.THUMBNAIL,function(){this.updateCarousel();if(++F==this.getDataLength()&&typeof Q=="number"&&Q>0){this._carousel.follow(Q)}})}if(M.responsive){c.on("resize",function(){if(!P.isFullscreen()){P.resize()}})}if(M.fullscreenDoubleTap){this.$("stage").on("touchstart",(function(){var U,R,S,V,W,X,T=function(Y){return Y.originalEvent.touches?Y.originalEvent.touches[0]:Y};P.$("stage").on("touchmove",function(){U=0});return function(Y){if(/(-left|-right)/.test(Y.target.className)){return}X=K.timestamp();R=T(Y).pageX;S=T(Y).pageY;if(Y.originalEvent.touches.length<2&&(X-U<300)&&(R-V<20)&&(S-W<20)){P.toggleFullscreen();Y.preventDefault();return}U=X;V=R;W=S}}()))}a.each(z.on.binds,function(S,R){if(a.inArray(R.hash,P._binds)==-1){P.bind(R.type,R.callback)}});return this},addTimer:function(){this._timer.add.apply(this._timer,K.array(arguments));return this},clearTimer:function(){this._timer.clear.apply(this._timer,K.array(arguments));return this},_getWH:function(){var F=this.$("container"),M=this.$("target"),R=this,Q={},P;a.each(["width","height"],function(S,T){if(R._options[T]&&typeof R._options[T]==="number"){Q[T]=R._options[T]}else{P=[K.parseValue(F.css(T)),K.parseValue(M.css(T)),F[T](),M[T]()];if(!R["_"+T]){P.splice(P.length,K.parseValue(F.css("min-"+T)),K.parseValue(M.css("min-"+T)))}Q[T]=D.max.apply(D,P)}});if(R._userRatio){Q.height=Q.width*R._userRatio}return Q},_createThumbnails:function(aa){this.get("total").innerHTML=this.getDataLength();var ac,ad,Q,F,ab=this,W=this._options,U=aa?this._data.length-aa.length:0,P=U,ae=[],V=0,T=B<8?"http://upload.wikimedia.org/wikipedia/commons/c/c0/Blank.gif":"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw%3D%3D",M=(function(){var ag=ab.$("thumbnails").find(".active");if(!ag.length){return false}return ag.find("img").attr("src")}()),Z=typeof W.thumbnails==="string"?W.thumbnails.toLowerCase():null,S=function(ag){return u.defaultView&&u.defaultView.getComputedStyle?u.defaultView.getComputedStyle(ad.container,null)[ag]:F.css(ag)},R=function(ah,ai,ag){return function(){a(ag).append(ah);ab.trigger({type:z.THUMBNAIL,thumbTarget:ah,index:ai,galleriaData:ab.getData(ai)})}},X=function(ag){if(W.pauseOnInteraction){ab.pause()}var ah=a(ag.currentTarget).data("index");if(ab.getIndex()!==ah){ab.show(ah)}ag.preventDefault()},af=function(ah,ag){a(ah.container).css("visibility","visible");ab.trigger({type:z.THUMBNAIL,thumbTarget:ah.image,index:ah.data.order,galleriaData:ab.getData(ah.data.order)});if(typeof ag=="function"){ag.call(ab,ah)}},Y=function(ah,ag){ah.scale({width:ah.data.width,height:ah.data.height,crop:W.thumbCrop,margin:W.thumbMargin,canvas:W.useCanvas,position:W.thumbPosition,complete:function(am){var an=["left","top"],ai=["Width","Height"],al,aj,ak=ab.getData(am.index);a.each(ai,function(ao,ap){al=ap.toLowerCase();if((W.thumbCrop!==true||W.thumbCrop===al)){aj={};aj[al]=am[al];a(am.container).css(aj);aj={};aj[an[ao]]=0;a(am.image).css(aj)}am["outer"+ap]=a(am.container)["outer"+ap](true)});K.toggleQuality(am.image,W.thumbQuality===true||(W.thumbQuality==="auto"&&am.original.width<am.width*3));if(W.thumbDisplayOrder&&!am.lazy){a.each(ae,function(ao,ap){if(ao===V&&ap.ready&&!ap.displayed){V++;ap.displayed=true;af(ap,ag)}})}else{af(am,ag)}}})};if(!aa){this._thumbnails=[];this.$("thumbnails").empty()}for(;this._data[U];U++){Q=this._data[U];ac=Q.thumb||Q.image;if((W.thumbnails===true||Z=="lazy")&&(Q.thumb||Q.image)){ad=new z.Picture(U);ad.index=U;ad.displayed=false;ad.lazy=false;ad.video=false;this.$("thumbnails").append(ad.container);F=a(ad.container);F.css("visibility","hidden");ad.data={width:K.parseValue(S("width")),height:K.parseValue(S("height")),order:U,src:ac};if(W.thumbCrop!==true){F.css({width:"auto",height:"auto"})}else{F.css({width:ad.data.width,height:ad.data.height})}if(Z=="lazy"){F.addClass("lazy");ad.lazy=true;ad.load(T,{height:ad.data.height,width:ad.data.width})}else{ad.load(ac,Y)}if(W.preload==="all"){ad.preload(Q.image)}}else{if((Q.iframe&&Z!==null)||Z==="empty"||Z==="numbers"){ad={container:K.create("galleria-image"),image:K.create("img","span"),ready:true,data:{order:U}};if(Z==="numbers"){a(ad.image).text(U+1)}if(Q.iframe){a(ad.image).addClass("iframe")}this.$("thumbnails").append(ad.container);O.setTimeout((R)(ad.image,U,ad.container),50+(U*20))}else{ad={container:null,image:null}}}a(ad.container).add(W.keepSource&&W.linkSourceImages?Q.original:null).data("index",U).on(W.thumbEventType,X).data("thumbload",Y);if(M===ac){a(ad.container).addClass("active")}this._thumbnails.push(ad)}ae=this._thumbnails.slice(P);return this},lazyLoad:function(P,M){var F=P.constructor==Array?P:[P],R=this,Q=0;a.each(F,function(U,V){if(V>R._thumbnails.length-1){return}var W=R._thumbnails[V],T=W.data,S=function(){if(++Q==F.length&&typeof M=="function"){M.call(R)}},X=a(W.container).data("thumbload");if(W.video){X.call(R,W,S)}else{W.load(T.src,function(Y){X.call(R,Y,S)})}});return this},lazyLoadChunks:function(U,M){var R=this.getDataLength(),P=0,S=0,F=[],V=[],T=this;M=M||0;for(;P<R;P++){V.push(P);if(++S==U||P==R-1){F.push(V);S=0;V=[]}}var Q=function(X){var W=F.shift();if(W){O.setTimeout(function(){T.lazyLoad(W,function(){Q(true)})},(M&&X)?M:0)}};Q(false);return this},_run:function(){var F=this;F._createThumbnails();K.wait({timeout:10000,until:function(){if(z.OPERA){F.$("stage").css("display","inline-block")}F._stageWidth=F.$("stage").width();F._stageHeight=F.$("stage").height();return(F._stageWidth&&F._stageHeight>50)},success:function(){g.push(F);if(F._options.swipe){var M=F.$("images").width(F.getDataLength()*F._stageWidth);a.each(new Array(F.getDataLength()),function(R){var S=new z.Picture(),P=F.getData(R);a(S.container).css({position:"absolute",top:0,left:F._stageWidth*R}).prepend(F._layers[R]=a(K.create("galleria-layer")).css({position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:2})[0]).appendTo(M);if(P.video){n(S.container)}F._controls.slides.push(S);var Q=new z.Picture();Q.isIframe=true;a(Q.container).attr("class","galleria-frame").css({position:"absolute",top:0,left:0,zIndex:4,background:"#000",display:"none"}).appendTo(S.container);F._controls.frames.push(Q)});F.finger.setup()}K.show(F.get("counter"));if(F._options.carousel){F._carousel.bindControls()}if(F._options.autoplay){F.pause();if(typeof F._options.autoplay==="number"){F._playtime=F._options.autoplay}F._playing=true}if(F._firstrun){if(F._options.autoplay){F.trigger(z.PLAY)}if(typeof F._options.show==="number"){F.show(F._options.show)}return}F._firstrun=true;if(z.History){z.History.change(function(P){if(isNaN(P)){O.history.go(-1)}else{F.show(P,J,true)}})}F.trigger(z.READY);F.theme.init.call(F,F._options);a.each(z.ready.callbacks,function(Q,P){if(typeof P=="function"){P.call(F,F._options)}});F._options.extend.call(F,F._options);if(/^[0-9]{1,4}$/.test(A)&&z.History){F.show(A,J,true)}else{if(F._data[F._options.show]){F.show(F._options.show)}}if(F._options.autoplay){F.trigger(z.PLAY)}},error:function(){z.raise("Stage width or height is too small to show the gallery. Traced measures: width:"+F._stageWidth+"px, height: "+F._stageHeight+"px.",true)}})},load:function(R,P,F){var Q=this,M=this._options;this._data=[];this._thumbnails=[];this.$("thumbnails").empty();if(typeof P==="function"){F=P;P=null}R=R||M.dataSource;P=P||M.dataSelector;F=F||M.dataConfig;if(a.isPlainObject(R)){R=[R]}if(a.isArray(R)){if(this.validate(R)){this._data=R}else{z.raise("Load failed: JSON Array not valid.")}}else{P+=",.video,.iframe";a(R).find(P).each(function(V,T){T=a(T);var S={},W=T.parent(),U=W.attr("href"),X=W.attr("rel");if(U&&(T[0].nodeName=="IMG"||T.hasClass("video"))&&s(U)){S.video=U}else{if(U&&T.hasClass("iframe")){S.iframe=U}else{S.image=S.big=U}}if(X){S.big=X}a.each("big title description link layer image".split(" "),function(Y,Z){if(T.data(Z)){S[Z]=T.data(Z).toString()}});if(!S.big){S.big=S.image}Q._data.push(a.extend({title:T.attr("title")||"",thumb:T.attr("src"),image:T.attr("src"),big:T.attr("src"),description:T.attr("alt")||"",link:T.attr("longdesc"),original:T.get(0)},S,F(T)))})}if(typeof M.dataSort=="function"){H.sort.call(this._data,M.dataSort)}else{if(M.dataSort=="random"){this._data.sort(function(){return D.round(D.random())-0.5})}}if(this.getDataLength()){this._parseData(function(){this.trigger(z.DATA)})}return this},_parseData:function(F){var R=this,M,Q=false,P=function(){var S=true;a.each(R._data,function(U,T){if(T.loading){S=false;return false}});if(S&&!Q){Q=true;F.call(R)}};a.each(this._data,function(T,S){M=R._data[T];if("thumb" in S===false){M.thumb=S.image}if(!S.big){M.big=S.image}if("video" in S){var U=s(S.video);if(U){M.iframe=new N(U.provider,U.id).embed()+(function(){if(typeof R._options[U.provider]=="object"){var W="?",V=[];a.each(R._options[U.provider],function(X,Y){V.push(X+"="+Y)});if(U.provider=="youtube"){V=["wmode=opaque"].concat(V)}return W+V.join("&")}return""}());if(!M.thumb||!M.image){a.each(["thumb","image"],function(V,W){if(W=="image"&&!R._options.videoPoster){M.image=J;return}var X=new N(U.provider,U.id);if(!M[W]){M.loading=true;X.getMedia(W,(function(Y,Z){return function(aa){Y[Z]=aa;if(Z=="image"&&!Y.big){Y.big=Y.image}delete Y.loading;P()}}(M,W)))}})}}}});P();return this},destroy:function(){this.$("target").data("galleria",null);this.$("container").off("galleria");this.get("target").innerHTML=this._original.html;this.clearTimer();K.removeFromArray(i,this);K.removeFromArray(g,this);if(z._waiters.length){a.each(z._waiters,function(F,M){if(M){O.clearTimeout(M)}})}return this},splice:function(){var M=this,F=K.array(arguments);O.setTimeout(function(){H.splice.apply(M._data,F);M._parseData(function(){M._createThumbnails()})},2);return M},push:function(){var M=this,F=K.array(arguments);if(F.length==1&&F[0].constructor==Array){F=F[0]}O.setTimeout(function(){H.push.apply(M._data,F);M._parseData(function(){M._createThumbnails(F)})},2);return M},_getActive:function(){return this._controls.getActive()},validate:function(F){return true},bind:function(M,F){M=m(M);this.$("container").on(M,this.proxy(F));return this},unbind:function(F){F=m(F);this.$("container").off(F);return this},trigger:function(F){F=typeof F==="object"?a.extend(F,{scope:this}):{type:m(F),scope:this};this.$("container").trigger(F);return this},addIdleState:function(F,Q,M,P){this._idle.add.apply(this._idle,K.array(arguments));return this},removeIdleState:function(F){this._idle.remove.apply(this._idle,K.array(arguments));return this},enterIdleMode:function(){this._idle.hide();return this},exitIdleMode:function(){this._idle.showAll();return this},enterFullscreen:function(F){this._fullscreen.enter.apply(this,K.array(arguments));return this},exitFullscreen:function(F){this._fullscreen.exit.apply(this,K.array(arguments));return this},toggleFullscreen:function(F){this._fullscreen[this.isFullscreen()?"exit":"enter"].apply(this,K.array(arguments));return this},bindTooltip:function(F,M){this._tooltip.bind.apply(this._tooltip,K.array(arguments));return this},defineTooltip:function(F,M){this._tooltip.define.apply(this._tooltip,K.array(arguments));return this},refreshTooltip:function(F){this._tooltip.show.apply(this._tooltip,K.array(arguments));return this},openLightbox:function(){this._lightbox.show.apply(this._lightbox,K.array(arguments));return this},closeLightbox:function(){this._lightbox.hide.apply(this._lightbox,K.array(arguments));return this},hasVariation:function(F){return a.inArray(F,this._options.variation.split(/\s+/))>-1},getActiveImage:function(){var F=this._getActive();return F?F.image:J},getActiveThumb:function(){return this._thumbnails[this._active].image||J},getMousePosition:function(F){return{x:F.pageX-this.$("container").offset().left,y:F.pageY-this.$("container").offset().top}},addPan:function(W){if(this._options.imageCrop===false){return}W=a(W||this.getActiveImage());var aa=this,ac=W.width()/2,ad=W.height()/2,S=parseInt(W.css("left"),10),T=parseInt(W.css("top"),10),Q=S||0,R=T||0,U=0,V=0,F=false,ab=K.timestamp(),M=0,Y=0,Z=function(ag,af,ah){if(ag>0){Y=D.round(D.max(ag*-1,D.min(0,af)));if(M!==Y){M=Y;if(B===8){W.parent()["scroll"+ah](Y*-1)}else{var ae={};ae[ah.toLowerCase()]=Y;W.css(ae)}}}},P=function(ae){if(K.timestamp()-ab<50){return}F=true;ac=aa.getMousePosition(ae).x;ad=aa.getMousePosition(ae).y},X=function(ae){if(!F){return}U=W.width()-aa._stageWidth;V=W.height()-aa._stageHeight;S=ac/aa._stageWidth*U*-1;T=ad/aa._stageHeight*V*-1;Q+=(S-Q)/aa._options.imagePanSmoothness;R+=(T-R)/aa._options.imagePanSmoothness;Z(V,R,"Top");Z(U,Q,"Left")};if(B===8){W.parent().scrollTop(R*-1).scrollLeft(Q*-1);W.css({top:0,left:0})}this.$("stage").off("mousemove",P).on("mousemove",P);this.addTimer("pan"+aa._id,X,50,true);return this},proxy:function(F,M){if(typeof F!=="function"){return x}M=M||this;return function(){return F.apply(M,K.array(arguments))}},getThemeName:function(){return this.theme.name},removePan:function(){this.$("stage").off("mousemove");this.clearTimer("pan"+this._id);return this},addElement:function(M){var F=this._dom;a.each(K.array(arguments),function(Q,P){F[P]=K.create("galleria-"+P)});return this},attachKeyboard:function(F){this._keyboard.attach.apply(this._keyboard,K.array(arguments));return this},detachKeyboard:function(){this._keyboard.detach.apply(this._keyboard,K.array(arguments));return this},appendChild:function(M,F){this.$(M).append(this.get(F)||F);return this},prependChild:function(M,F){this.$(M).prepend(this.get(F)||F);return this},remove:function(F){this.$(K.array(arguments).join(",")).remove();return this},append:function(F){var M,P;for(M in F){if(F.hasOwnProperty(M)){if(F[M].constructor===Array){for(P=0;F[M][P];P++){this.appendChild(M,F[M][P])}}else{this.appendChild(M,F[M])}}}return this},_scaleImage:function(M,P){M=M||this._controls.getActive();if(!M){return}var F,Q=function(R){a(R.container).children(":first").css({top:D.max(0,K.parseValue(R.image.style.top)),left:D.max(0,K.parseValue(R.image.style.left)),width:K.parseValue(R.image.width),height:K.parseValue(R.image.height)})};P=a.extend({width:this._stageWidth,height:this._stageHeight,crop:this._options.imageCrop,max:this._options.maxScaleRatio,min:this._options.minScaleRatio,margin:this._options.imageMargin,position:this._options.imagePosition,iframelimit:this._options.maxVideoSize},P);if(this._options.layerFollow&&this._options.imageCrop!==true){if(typeof P.complete=="function"){F=P.complete;P.complete=function(){F.call(M,M);Q(M)}}else{P.complete=Q}}else{a(M.container).children(":first").css({top:0,left:0})}M.scale(P);return this},updateCarousel:function(){this._carousel.update();return this},resize:function(P,M){if(typeof P=="function"){M=P;P=J}P=a.extend({width:0,height:0},P);var Q=this,F=this.$("container");a.each(P,function(R,S){if(!S){F[R]("auto");P[R]=Q._getWH()[R]}});a.each(P,function(R,S){F[R](S)});return this.rescale(M)},rescale:function(R,M,F){var Q=this;if(typeof R==="function"){F=R;R=J}var P=function(){Q._stageWidth=R||Q.$("stage").width();Q._stageHeight=M||Q.$("stage").height();if(Q._options.swipe){a.each(Q._controls.slides,function(T,U){Q._scaleImage(U);a(U.container).css("left",Q._stageWidth*T)});Q.$("images").css("width",Q._stageWidth*Q.getDataLength())}else{Q._scaleImage()}if(Q._options.carousel){Q.updateCarousel()}var S=Q._controls.frames[Q._controls.active];if(S){Q._controls.frames[Q._controls.active].scale({width:Q._stageWidth,height:Q._stageHeight,iframelimit:Q._options.maxVideoSize})}Q.trigger(z.RESCALE);if(typeof F==="function"){F.call(Q)}};P.call(Q);return this},refreshImage:function(){this._scaleImage();if(this._options.imagePan){this.addPan()}return this},_preload:function(){if(this._options.preload){var R,M,P=this.getNext(),Q;try{for(M=this._options.preload;M>0;M--){R=new z.Picture();Q=this.getData(P);R.preload(this.isFullscreen()&&Q.big?Q.big:Q.image);P=this.getNext(P)}}catch(F){}}},show:function(T,U,F){var X=this._options.swipe;if(!X&&(this._queue.length>3||T===false||(!this._options.queue&&this._queue.stalled))){return}T=D.max(0,D.min(parseInt(T,10),this.getDataLength()-1));U=typeof U!=="undefined"?!!U:T<this.getIndex();F=F||false;if(!F&&z.History){z.History.set(T.toString());return}if(this.finger&&T!==this._active){this.finger.to=-(T*this.finger.width);this.finger.index=T}this._active=T;if(X){var Q=this.getData(T),V=this;if(!Q){return}var W=this.isFullscreen()&&Q.big?Q.big:(Q.image||Q.iframe),S=this._controls.slides[T],M=S.isCached(W),Y=this._thumbnails[T];var R={cached:M,index:T,rewind:U,imageTarget:S.image,thumbTarget:Y.image,galleriaData:Q};this.trigger(a.extend(R,{type:z.LOADSTART}));V.$("container").removeClass("videoplay");var P=function(){V._layers[T].innerHTML=V.getData().layer||"";V.trigger(a.extend(R,{type:z.LOADFINISH}));V._playCheck()};V._preload();O.setTimeout(function(){if(!S.ready||a(S.image).attr("src")!=W){if(Q.iframe&&!Q.image){S.isIframe=true}S.load(W,function(Z){R.imageTarget=Z.image;V._scaleImage(Z,P).trigger(a.extend(R,{type:z.IMAGE}));P()})}else{V.trigger(a.extend(R,{type:z.IMAGE}));P()}},100)}else{H.push.call(this._queue,{index:T,rewind:U});if(!this._queue.stalled){this._show()}}return this},_show:function(){var U=this,T=this._queue[0],Q=this.getData(T.index);if(!Q){return}var V=this.isFullscreen()&&Q.big?Q.big:(Q.image||Q.iframe),F=this._controls.getActive(),S=this._controls.getNext(),M=S.isCached(V),W=this._thumbnails[T.index],R=function(){a(S.image).trigger("mouseup")};U.$("container").toggleClass("iframe",!!Q.isIframe).removeClass("videoplay");var P=(function(Y,Z,X,aa,ab){return function(){var ac;q.active=false;K.toggleQuality(Z.image,U._options.imageQuality);U._layers[U._controls.active].innerHTML="";a(X.container).css({zIndex:0,opacity:0}).show();a(X.container).find("iframe, .galleria-videoicon").remove();a(U._controls.frames[U._controls.active].container).hide();a(Z.container).css({zIndex:1,left:0,top:0}).show();U._controls.swap();if(U._options.imagePan){U.addPan(Z.image)}if((Y.iframe&&Y.image)||Y.link||U._options.lightbox||U._options.clicknext){a(Z.image).css({cursor:"pointer"}).on("mouseup",function(ad){if(typeof ad.which=="number"&&ad.which>1){return}if(Y.iframe){if(U.isPlaying()){U.pause()}var ae=U._controls.frames[U._controls.active],ag=U._stageWidth,af=U._stageHeight;a(ae.container).css({width:ag,height:af,opacity:0}).show().animate({opacity:1},200);O.setTimeout(function(){ae.load(Y.iframe+(Y.video?"&autoplay=1":""),{width:ag,height:af},function(ah){U.$("container").addClass("videoplay");ah.scale({width:U._stageWidth,height:U._stageHeight,iframelimit:Y.video?U._options.maxVideoSize:J})})},100);return}if(U._options.clicknext&&!z.TOUCH){if(U._options.pauseOnInteraction){U.pause()}U.next();return}if(Y.link){if(U._options.popupLinks){ac=O.open(Y.link,"_blank")}else{O.location.href=Y.link}return}if(U._options.lightbox){U.openLightbox()}})}U._playCheck();U.trigger({type:z.IMAGE,index:aa.index,imageTarget:Z.image,thumbTarget:ab.image,galleriaData:Y});H.shift.call(U._queue);U._queue.stalled=false;if(U._queue.length){U._show()}}}(Q,S,F,T,W));if(this._options.carousel&&this._options.carouselFollow){this._carousel.follow(T.index)}U._preload();K.show(S.container);S.isIframe=Q.iframe&&!Q.image;a(U._thumbnails[T.index].container).addClass("active").siblings(".active").removeClass("active");U.trigger({type:z.LOADSTART,cached:M,index:T.index,rewind:T.rewind,imageTarget:S.image,thumbTarget:W.image,galleriaData:Q});U._queue.stalled=true;S.load(V,function(Y){var X=a(U._layers[1-U._controls.active]).html(Q.layer||"").hide();U._scaleImage(Y,{complete:function(Z){if("image" in F){K.toggleQuality(F.image,false)}K.toggleQuality(Z.image,false);U.removePan();U.setInfo(T.index);U.setCounter(T.index);if(Q.layer){X.show();if((Q.iframe&&Q.image)||Q.link||U._options.lightbox||U._options.clicknext){X.css("cursor","pointer").off("mouseup").mouseup(R)}}if(Q.video&&Q.image){n(Z.container)}var ab=U._options.transition;a.each({initial:F.image===null,touch:z.TOUCH,fullscreen:U.isFullscreen()},function(ad,ac){if(ac&&U._options[ad+"Transition"]!==J){ab=U._options[ad+"Transition"];return false}});if(ab in q.effects===false){P()}else{var aa={prev:F.container,next:Z.container,rewind:T.rewind,speed:U._options.transitionSpeed||400};q.active=true;q.init.call(U,ab,aa,P)}U.trigger({type:z.LOADFINISH,cached:M,index:T.index,rewind:T.rewind,imageTarget:Z.image,thumbTarget:U._thumbnails[T.index].image,galleriaData:U.getData(T.index)})}})})},getNext:function(F){F=typeof F==="number"?F:this.getIndex();return F===this.getDataLength()-1?0:F+1},getPrev:function(F){F=typeof F==="number"?F:this.getIndex();return F===0?this.getDataLength()-1:F-1},next:function(){if(this.getDataLength()>1){this.show(this.getNext(),false)}return this},prev:function(){if(this.getDataLength()>1){this.show(this.getPrev(),true)}return this},get:function(F){return F in this._dom?this._dom[F]:null},getData:function(F){return F in this._data?this._data[F]:this._data[this._active]},getDataLength:function(){return this._data.length},getIndex:function(){return typeof this._active==="number"?this._active:false},getStageHeight:function(){return this._stageHeight},getStageWidth:function(){return this._stageWidth},getOptions:function(F){return typeof F==="undefined"?this._options:this._options[F]},setOptions:function(F,M){if(typeof F==="object"){a.extend(this._options,F)}else{this._options[F]=M}return this},play:function(F){this._playing=true;this._playtime=F||this._playtime;this._playCheck();this.trigger(z.PLAY);return this},pause:function(){this._playing=false;this.trigger(z.PAUSE);return this},playToggle:function(F){return(this._playing)?this.pause():this.play(F)},isPlaying:function(){return this._playing},isFullscreen:function(){return this._fullscreen.active},_playCheck:function(){var R=this,Q=0,M=20,P=K.timestamp(),S="play"+this._id;if(this._playing){this.clearTimer(S);var F=function(){Q=K.timestamp()-P;if(Q>=R._playtime&&R._playing){R.clearTimer(S);R.next();return}if(R._playing){R.trigger({type:z.PROGRESS,percent:D.ceil(Q/R._playtime*100),seconds:D.floor(Q/1000),milliseconds:Q});R.addTimer(S,F,M)}};R.addTimer(S,F,M)}},setPlaytime:function(F){this._playtime=F;return this},setIndex:function(F){this._active=F;return this},setCounter:function(M){if(typeof M==="number"){M++}else{if(typeof M==="undefined"){M=this.getIndex()+1}}this.get("current").innerHTML=M;if(B){var F=this.$("counter"),P=F.css("opacity");if(parseInt(P,10)===1){K.removeAlpha(F[0])}else{this.$("counter").css("opacity",P)}}return this},setInfo:function(M){var P=this,F=this.getData(M);a.each(["title","description"],function(R,S){var Q=P.$("info-"+S);if(!!F[S]){Q[F[S].length?"show":"hide"]().html(F[S])}else{Q.empty().hide()}});return this},hasInfo:function(P){var F="title description".split(" "),M;for(M=0;F[M];M++){if(!!this.getData(P)[F[M]]){return true}}return false},jQuery:function(Q){var P=this,M=[];a.each(Q.split(","),function(S,R){R=a.trim(R);if(P.get(R)){M.push(R)}});var F=a(P.get(M.shift()));a.each(M,function(S,R){F=F.add(P.get(R))});return F},$:function(F){return this.jQuery.apply(this,K.array(arguments))}};a.each(f,function(M,F){var P=/_/.test(F)?F.replace(/_/g,""):F;z[F.toUpperCase()]="galleria."+P});a.extend(z,{IE9:B===9,IE8:B===8,IE7:B===7,IE6:B===6,IE:B,WEBKIT:/webkit/.test(E),CHROME:/chrome/.test(E),SAFARI:/safari/.test(E)&&!(/chrome/.test(E)),QUIRK:(B&&u.compatMode&&u.compatMode==="BackCompat"),MAC:/mac/.test(navigator.platform.toLowerCase()),OPERA:!!O.opera,IPHONE:/iphone/.test(E),IPAD:/ipad/.test(E),ANDROID:/android/.test(E),TOUCH:("ontouchstart" in u)});z.addTheme=function(P){if(!P.name){z.raise("No theme name specified")}if(typeof P.defaults!=="object"){P.defaults={}}else{P.defaults=j(P.defaults)}var F=false,M;if(typeof P.css==="string"){a("link").each(function(Q,R){M=new RegExp(P.css);if(M.test(R.href)){F=true;p(P);return false}});if(!F){a(function(){var Q=0;var R=function(){a("script").each(function(S,T){M=new RegExp("galleria\\."+P.name.toLowerCase()+"\\.");if(M.test(T.src)){F=T.src.replace(/[^\/]*$/,"")+P.css;O.setTimeout(function(){K.loadCSS(F,"galleria-theme-"+P.name,function(){p(P)})},1)}});if(!F){if(Q++>5){z.raise("No theme CSS loaded")}else{O.setTimeout(R,500)}}};R()})}}else{p(P)}return P};z.loadTheme=function(Q,P){if(a("script").filter(function(){return a(this).attr("src")==Q}).length){return}var M=false,F;a(O).load(function(){if(!M){F=O.setTimeout(function(){if(!M){z.raise("Galleria had problems loading theme at "+Q+". Please check theme path or load manually.",true)}},20000)}});K.loadScript(Q,function(){M=true;O.clearTimeout(F)});return z};z.get=function(F){if(!!i[F]){return i[F]}else{if(typeof F!=="number"){return i}else{z.raise("Gallery index "+F+" not found")}}};z.configure=function(F,P){var M={};if(typeof F=="string"&&P){M[F]=P;F=M}else{a.extend(M,F)}z.configure.options=M;a.each(z.get(),function(Q,R){R.setOptions(M)});return z};z.configure.options={};z.on=function(P,F){if(!P){return}F=F||x;var M=P+F.toString().replace(/\s/g,"")+K.timestamp();a.each(z.get(),function(Q,R){R._binds.push(M);R.bind(P,F)});z.on.binds.push({type:P,callback:F,hash:M});return z};z.on.binds=[];z.run=function(M,F){if(a.isFunction(F)){F={extend:F}}a(M||"#galleria").galleria(F);return z};z.addTransition=function(M,F){q.effects[M]=F;return z};z.utils=K;z.log=function(){var F=K.array(arguments);if("console" in O&&"log" in O.console){try{return O.console.log.apply(O.console,F)}catch(M){a.each(F,function(){O.console.log(this)})}}else{return O.alert(F.join("<br>"))}};z.ready=function(F){if(typeof F!="function"){return z}a.each(g,function(P,M){F.call(M,M._options)});z.ready.callbacks.push(F);return z};z.ready.callbacks=[];z.raise=function(Q,P){var R=P?"Fatal error":"Error",F={color:"#fff",position:"absolute",top:0,left:0,zIndex:100000},M=function(T){var S='<div style="padding:4px;margin:0 0 2px;background:#'+(P?"811":"222")+';">'+(P?"<strong>"+R+": </strong>":"")+T+"</div>";a.each(i,function(){var U=this.$("errors"),V=this.$("target");if(!U.length){V.css("position","relative");U=this.addElement("errors").appendChild("target","errors").$("errors").css(F)}U.append(S)});if(!i.length){a("<div>").css(a.extend(F,{position:"fixed"})).append(S).appendTo(v().body)}};if(t){M(Q);if(P){throw new Error(R+": "+Q)}}else{if(P){if(h){return}h=true;P=false;M("Gallery could not load.")}}};z.version=L;z.getLoadedThemes=function(){return a.map(k,function(F){return F.name})};z.requires=function(M,F){F=F||"You need to upgrade Galleria to version "+M+" to use one or more components.";if(z.version<M){z.raise(F,true)}return z};z.Picture=function(F){this.id=F||null;this.image=null;this.container=K.create("galleria-image");a(this.container).css({overflow:"hidden",position:"relative"});this.original={width:0,height:0};this.ready=false;this.isIframe=false};z.Picture.prototype={cache:{},show:function(){K.show(this.image)},hide:function(){K.moveOut(this.image)},clear:function(){this.image=null},isCached:function(F){return !!this.cache[F]},preload:function(F){a(new Image()).load((function(P,M){return function(){M[P]=P}}(F,this.cache))).attr("src",F)},load:function(X,W,P){if(typeof W=="function"){P=W;W=null}if(this.isIframe){var Q="if"+new Date().getTime();var R=this.image=a("<iframe>",{src:X,frameborder:0,id:Q,allowfullscreen:true,css:{visibility:"hidden"}})[0];if(W){a(R).css(W)}a(this.container).find("iframe,img").remove();this.container.appendChild(this.image);a("#"+Q).load((function(Z,Y){return function(){O.setTimeout(function(){a(Z.image).css("visibility","visible");if(typeof Y=="function"){Y.call(Z,Z)}},10)}}(this,P)));return this.container}this.image=new Image();if(z.IE8){a(this.image).css("filter","inherit")}if(!z.IE&&!z.CHROME&&!z.SAFARI){a(this.image).css("image-rendering","optimizequality")}var U=false,V=false,F=a(this.container),M=a(this.image),S=function(){if(!U){U=true;O.setTimeout((function(Y,Z){return function(){Y.attr("src",Z+(Z.indexOf("?")>-1?"&":"?")+K.timestamp())}}(a(this),X)),50)}else{if(w){a(this).attr("src",w)}else{z.raise("Image not found: "+X)}}},T=(function(Z,Y,aa){return function(){var ab=function(){a(this).off("load");Z.original=W||{height:this.height,width:this.width};if(z.HAS3D){this.style.MozTransform=this.style.webkitTransform="translate3d(0,0,0)"}F.append(this);Z.cache[aa]=aa;if(typeof Y=="function"){O.setTimeout(function(){Y.call(Z,Z)},1)}};if((!this.width||!this.height)){(function(ac){K.wait({until:function(){return ac.width&&ac.height},success:function(){ab.call(ac)},error:function(){if(!V){a(new Image()).load(T).attr("src",ac.src);V=true}else{z.raise("Could not extract width/height from image: "+ac.src+". Traced measures: width:"+ac.width+"px, height: "+ac.height+"px.")}},timeout:100})}(this))}else{ab.call(this)}}}(this,P,X));F.find("iframe,img").remove();M.css("display","block");K.hide(this.image);a.each("minWidth minHeight maxWidth maxHeight".split(" "),function(Y,Z){M.css(Z,(/min/.test(Z)?"0":"none"))});M.load(T).on("error",S).attr("src",X);return this.container},scale:function(V){var X=this;V=a.extend({width:0,height:0,min:J,max:J,margin:0,complete:x,position:"center",crop:false,canvas:false,iframelimit:J},V);if(this.isIframe){var P=V.width,M=V.height,U,T;if(V.iframelimit){var W=D.min(V.iframelimit/P,V.iframelimit/M);if(W<1){U=P*W;T=M*W;a(this.image).css({top:M/2-T/2,left:P/2-U/2,position:"absolute"})}else{a(this.image).css({top:0,left:0})}}a(this.image).width(U||P).height(T||M).removeAttr("width").removeAttr("height");a(this.container).width(P).height(M);V.complete.call(X,X);try{if(this.image.contentWindow){a(this.image.contentWindow).trigger("resize")}}catch(R){}return this.container}if(!this.image){return this.container}var Y,S,F=a(X.container),Q;K.wait({until:function(){Y=V.width||F.width()||K.parseValue(F.css("width"));S=V.height||F.height()||K.parseValue(F.css("height"));return Y&&S},success:function(){var ag=(Y-V.margin*2)/X.original.width,af=(S-V.margin*2)/X.original.height,ad=D.min(ag,af),ac=D.max(ag,af),aa={"true":ac,width:ag,height:af,"false":ad,landscape:X.original.width>X.original.height?ac:ad,portrait:X.original.width<X.original.height?ac:ad},aj=aa[V.crop.toString()],Z="";if(V.max){aj=D.min(V.max,aj)}if(V.min){aj=D.max(V.min,aj)}a.each(["width","height"],function(ak,al){a(X.image)[al](X[al]=X.image[al]=D.round(X.original[al]*aj))});a(X.container).width(Y).height(S);if(V.canvas&&d){d.elem.width=X.width;d.elem.height=X.height;Z=X.image.src+":"+X.width+"x"+X.height;X.image.src=d.cache[Z]||(function(al){d.context.drawImage(X.image,0,0,X.original.width*aj,X.original.height*aj);try{Q=d.elem.toDataURL();d.length+=Q.length;d.cache[al]=Q;return Q}catch(ak){return X.image.src}}(Z))}var ah={},ae={},ab=function(ap,an,am){var ao=0;if(/\%/.test(ap)){var ak=parseInt(ap,10)/100,al=X.image[an]||a(X.image)[an]();ao=D.ceil(al*-1*ak+am*ak)}else{ao=K.parseValue(ap)}return ao},ai={top:{top:0},left:{left:0},right:{left:"100%"},bottom:{top:"100%"}};a.each(V.position.toLowerCase().split(" "),function(ak,al){if(al==="center"){al="50%"}ah[ak?"top":"left"]=al});a.each(ah,function(ak,al){if(ai.hasOwnProperty(al)){a.extend(ae,ai[al])}});ah=ah.top?a.extend(ah,ae):ae;ah=a.extend({top:"50%",left:"50%"},ah);a(X.image).css({position:"absolute",top:ab(ah.top,"height",S),left:ab(ah.left,"width",Y)});X.show();X.ready=true;V.complete.call(X,X)},error:function(){z.raise("Could not scale image: "+X.image.src)},timeout:1000});return this}};a.extend(a.easing,{galleria:function(F,R,M,P,Q){if((R/=Q/2)<1){return P/2*R*R*R+M}return P/2*((R-=2)*R*R+2)+M},galleriaIn:function(F,R,M,P,Q){return P*(R/=Q)*R+M},galleriaOut:function(F,R,M,P,Q){return -P*(R/=Q)*(R-2)+M}});z.Finger=(function(){var F=D.abs;var P=z.HAS3D=(function(){var S=u.createElement("p"),T,W=["webkit","O","ms","Moz",""],V,U=0,R="transform";v().html.insertBefore(S,null);for(;W[U];U++){V=W[U]?W[U]+"Transform":R;if(S.style[V]!==undefined){S.style[V]="translate3d(1px,1px,1px)";T=a(S).css(W[U]?"-"+W[U].toLowerCase()+"-"+R:R)}}v().html.removeChild(S);return(T!==undefined&&T.length>0&&T!=="none")}());var Q=(function(){var R="RequestAnimationFrame";return O.requestAnimationFrame||O["webkit"+R]||O["moz"+R]||O["o"+R]||O["ms"+R]||function(S){O.setTimeout(S,1000/60)}}());var M=function(S,T){this.config={start:0,duration:500,onchange:function(){},oncomplete:function(){},easing:function(Z,Y,V,W,X){return -W*((Y=Y/X-1)*Y*Y*Y-1)+V}};this.easeout=function(Z,Y,V,W,X){return W*((Y=Y/X-1)*Y*Y*Y*Y+1)+V};if(!S.children.length){return}var U=this;a.extend(this.config,T);this.elem=S;this.child=S.children[0];this.to=this.pos=0;this.touching=false;this.start={};this.index=this.config.start;this.anim=0;this.easing=this.config.easing;if(!P){this.child.style.position="absolute";this.elem.style.position="relative"}a.each(["ontouchstart","ontouchmove","ontouchend","setup"],function(W,V){U[V]=(function(X){return function(){X.apply(U,arguments)}}(U[V]))});this.setX=function(){var V=U.child.style;if(!P){V.left=U.pos+"px";return}V.MozTransform=V.webkitTransform=V.transform="translate3d("+U.pos+"px,0,0)"};a(S).on("touchstart",this.ontouchstart);a(O).on("resize",this.setup);a(O).on("orientationchange",this.setup);this.setup();(function R(){Q(R);U.loop.call(U)}())};M.prototype={constructor:M,setup:function(){this.width=a(this.elem).width();this.length=D.ceil(a(this.child).width()/this.width);if(this.index!==0){this.index=D.max(0,D.min(this.index,this.length-1));this.pos=this.to=-this.width*this.index}},setPosition:function(R){this.pos=R;this.to=R},ontouchstart:function(R){var S=R.originalEvent.touches;this.start={pageX:S[0].pageX,pageY:S[0].pageY,time:+new Date()};this.isScrolling=null;this.touching=true;this.deltaX=0;b.on("touchmove",this.ontouchmove);b.on("touchend",this.ontouchend)},ontouchmove:function(R){var S=R.originalEvent.touches;if(S&&S.length>1||R.scale&&R.scale!==1){return}this.deltaX=S[0].pageX-this.start.pageX;if(this.isScrolling===null){this.isScrolling=!!(this.isScrolling||D.abs(this.deltaX)<D.abs(S[0].pageY-this.start.pageY))}if(!this.isScrolling){R.preventDefault();this.deltaX/=((!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0)?(D.abs(this.deltaX)/this.width+1.8):1);this.to=this.deltaX-this.index*this.width}R.stopPropagation()},ontouchend:function(R){this.touching=false;var T=+new Date()-this.start.time<250&&D.abs(this.deltaX)>40||D.abs(this.deltaX)>this.width/2,S=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;if(!this.isScrolling){this.show(this.index+(T&&!S?(this.deltaX<0?1:-1):0))}b.off("touchmove",this.ontouchmove);b.off("touchend",this.ontouchend)},show:function(R){if(R!=this.index){this.config.onchange.call(this,R)}else{this.to=-(R*this.width)}},moveTo:function(R){if(R!=this.index){this.pos=this.to=-(R*this.width);this.index=R}},loop:function(){var R=this.to-this.pos,U=1;if(this.width&&R){U=D.max(0.5,D.min(1.5,D.abs(R/this.width)))}if(this.touching||D.abs(R)<=1){this.pos=this.to;R=0;if(this.anim&&!this.touching){this.config.oncomplete(this.index)}this.anim=0;this.easing=this.config.easing}else{if(!this.anim){this.anim={start:this.pos,time:+new Date(),distance:R,factor:U,destination:this.to}}var T=+new Date()-this.anim.time;var S=this.config.duration*this.anim.factor;if(T>S||this.anim.destination!=this.to){this.anim=0;this.easing=this.easeout;return}this.pos=this.easing(null,T,this.anim.start,this.anim.distance,S)}this.setX()}};return M}());a.fn.galleria=function(F){var M=this.selector;if(!a(this).length){a(function(){if(a(M).length){a(M).galleria(F)}else{z.utils.wait({until:function(){return a(M).length},success:function(){a(M).galleria(F)},error:function(){z.raise('Init failed: Galleria could not find the element "'+M+'".')},timeout:5000})}});return this}return this.each(function(){if(a.data(this,"galleria")){a.data(this,"galleria").destroy();a(this).find("*").hide()}a.data(this,"galleria",new z().init(this,F))})};if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=z}else{O.Galleria=z;if(typeof define==="function"&&define.amd){define("galleria",["jquery"],function(){return z})}}}(jQuery,this));